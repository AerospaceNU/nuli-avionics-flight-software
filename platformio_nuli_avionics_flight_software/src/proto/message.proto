syntax = "proto3";

import "nanopb.proto";

//message Command {
//  optional int32 value = 1;
//  optional string payload = 2 [(nanopb).max_size = 64];
//}


// This message defines the overarching protocol for communication between
// boards used by NULI in AerospaceNU
message NULIMessage {
  // Used for logging
  optional uint64 timestamp_ms = 1;
  // This should be a monotonically increasing value to identify messages
  optional uint32 message_id = 2;

  oneof payload {
    Command command = 10;
  }
}

message Command {
  optional float deploymentAltitude = 1;
}

enum FlagGroup {
  UNKNOWN = 0;
  PING = 1;
  DEPLOY = 2;
  ERASE = 3;
  START_LOGGING = 4;
  STOP_LOGGING = 5;
}