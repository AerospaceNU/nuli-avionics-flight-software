\doxysection{Quaternion.\+h}
\hypertarget{include_2Eigen_2src_2Geometry_2Quaternion_8h_source}{}\label{include_2Eigen_2src_2Geometry_2Quaternion_8h_source}\index{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/include/Eigen/src/Geometry/Quaternion.h@{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/include/Eigen/src/Geometry/Quaternion.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2008-\/2010\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Copyright\ (C)\ 2009\ Mathieu\ Gautier\ <mathieu.gautier@cea.fr>}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_QUATERNION\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ EIGEN\_QUATERNION\_H}}
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00017\ \textcolor{comment}{*\ Definition\ of\ QuaternionBase<Derived>}}
\DoxyCodeLine{00018\ \textcolor{comment}{*\ The\ implementation\ is\ at\ the\ end\ of\ the\ file}}
\DoxyCodeLine{00019\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Other,}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ OtherRows=Other::RowsAtCompileTime,}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ OtherCols=Other::ColsAtCompileTime>}
\DoxyCodeLine{00025\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{quaternionbase\_assign\_impl}};}
\DoxyCodeLine{00026\ \}}
\DoxyCodeLine{00027\ \textcolor{comment}{}}
\DoxyCodeLine{00028\ \textcolor{comment}{/**\ \(\backslash\)geometry\_module\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ \ *\ \(\backslash\)class\ QuaternionBase}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ *\ \(\backslash\)brief\ Base\ class\ for\ quaternion\ expressions}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ \ *\ \(\backslash\)tparam\ Derived\ derived\ type\ (CRTP)}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ class\ Quaternion}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00034\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00035\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classEigen_1_1RotationBase}{RotationBase}}<Derived,\ 3>}
\DoxyCodeLine{00036\ \{}
\DoxyCodeLine{00037\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1RotationBase}{RotationBase<Derived,\ 3>}}\ Base;}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \textcolor{keyword}{using\ }Base::operator*;}
\DoxyCodeLine{00041\ \ \ \textcolor{keyword}{using\ }Base::derived;}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}\ Scalar;}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ NumTraits<Scalar>::Real\ RealScalar;}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Coefficients}}\ Coefficients;}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Coefficients::CoeffReturnType\ CoeffReturnType;}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1conditional}{internal::conditional}}<bool(\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Flags}}\&\mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}}),}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Scalar\&,\ CoeffReturnType>::type\ NonConstCoeffReturnType;}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00052\ \ \ \ \ Flags\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{Eigen::internal::traits<Derived>::Flags}}}
\DoxyCodeLine{00053\ \ \ \};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \textcolor{comment}{//\ typedef\ typename\ Matrix<Scalar,4,1>\ Coefficients;}\textcolor{comment}{}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ \ /**\ the\ type\ of\ a\ 3D\ vector\ */}}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,3,1>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}};\textcolor{comment}{}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ /**\ the\ equivalent\ rotation\ matrix\ type\ */}}
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,3,3>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ac3972e6cb0f56cccbe9e3946a7e494f8}{Matrix3}};\textcolor{comment}{}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ /**\ the\ equivalent\ angle-\/axis\ type\ */}}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1AngleAxis}{AngleAxis<Scalar>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aed266c63b10a4028304901d9c8614199}{AngleAxisType}};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{comment}{}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ \(\backslash\)c\ x\ coefficient\ */}}
\DoxyCodeLine{00066\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ CoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().coeff(0);\ \}\textcolor{comment}{}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ \(\backslash\)c\ y\ coefficient\ */}}
\DoxyCodeLine{00068\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ CoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().coeff(1);\ \}\textcolor{comment}{}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ \(\backslash\)c\ z\ coefficient\ */}}
\DoxyCodeLine{00070\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ CoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().coeff(2);\ \}\textcolor{comment}{}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ \(\backslash\)c\ w\ coefficient\ */}}
\DoxyCodeLine{00072\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ CoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().coeff(3);\ \}}
\DoxyCodeLine{00073\ \textcolor{comment}{}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ reference\ to\ the\ \(\backslash\)c\ x\ coefficient\ (if\ Derived\ is\ a\ non-\/const\ lvalue)\ */}}
\DoxyCodeLine{00075\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ NonConstCoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_acf78705347fd7e4910004f2868f42350}{x}}()\ \{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().x();\ \}\textcolor{comment}{}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ reference\ to\ the\ \(\backslash\)c\ y\ coefficient\ (if\ Derived\ is\ a\ non-\/const\ lvalue)\ */}}
\DoxyCodeLine{00077\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ NonConstCoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa4bf2ff0e4aa4b57d1d16ce21d17066f}{y}}()\ \{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().y();\ \}\textcolor{comment}{}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ reference\ to\ the\ \(\backslash\)c\ z\ coefficient\ (if\ Derived\ is\ a\ non-\/const\ lvalue)\ */}}
\DoxyCodeLine{00079\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ NonConstCoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a39397e0e9fa7e0a02512fc3f50c95542}{z}}()\ \{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().z();\ \}\textcolor{comment}{}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ reference\ to\ the\ \(\backslash\)c\ w\ coefficient\ (if\ Derived\ is\ a\ non-\/const\ lvalue)\ */}}
\DoxyCodeLine{00081\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ NonConstCoeffReturnType\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ab24b4111eef9a4085b1cfe33291f45a9}{w}}()\ \{\ \textcolor{keywordflow}{return}\ this-\/>derived().coeffs().w();\ \}}
\DoxyCodeLine{00082\ \textcolor{comment}{}}
\DoxyCodeLine{00083\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ read-\/only\ vector\ expression\ of\ the\ imaginary\ part\ (x,y,z)\ */}}
\DoxyCodeLine{00084\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1VectorBlock}{VectorBlock<const\ Coefficients,3>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().template\ head<3>();\ \}}
\DoxyCodeLine{00085\ \textcolor{comment}{}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ vector\ expression\ of\ the\ imaginary\ part\ (x,y,z)\ */}}
\DoxyCodeLine{00087\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1VectorBlock}{VectorBlock<Coefficients,3>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a3464bef51c839f557a1e75c80d8ef167}{vec}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().template\ head<3>();\ \}}
\DoxyCodeLine{00088\ \textcolor{comment}{}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ read-\/only\ vector\ expression\ of\ the\ coefficients\ (x,y,z,w)\ */}}
\DoxyCodeLine{00090\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Coefficients}}\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ derived().coeffs();\ \}}
\DoxyCodeLine{00091\ \textcolor{comment}{}}
\DoxyCodeLine{00092\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ vector\ expression\ of\ the\ coefficients\ (x,y,z,w)\ */}}
\DoxyCodeLine{00093\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Coefficients}}\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad2dd94e51c8f77c8d025913a49aaf7fd}{coeffs}}()\ \{\ \textcolor{keywordflow}{return}\ derived().coeffs();\ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ other);}
\DoxyCodeLine{00096\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ Derived\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other);}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{comment}{//\ disabled\ this\ copy\ operator\ as\ it\ is\ giving\ very\ strange\ compilation\ errors\ when\ compiling}}
\DoxyCodeLine{00099\ \textcolor{comment}{//\ test\_stdvector\ with\ GCC\ 4.4.2.\ This\ looks\ like\ a\ GCC\ bug\ though,\ so\ feel\ free\ to\ re-\/enable\ it\ if\ it's}}
\DoxyCodeLine{00100\ \textcolor{comment}{//\ useful;\ however\ notice\ that\ we\ already\ have\ the\ templated\ operator=\ above\ and\ e.g.\ in\ MatrixBase}}
\DoxyCodeLine{00101\ \textcolor{comment}{//\ we\ didn't\ have\ to\ add,\ in\ addition\ to\ templated\ operator=,\ such\ a\ non-\/templated\ copy\ operator.}}
\DoxyCodeLine{00102\ \textcolor{comment}{//\ \ Derived\&\ operator=(const\ QuaternionBase\&\ other)}}
\DoxyCodeLine{00103\ \textcolor{comment}{//\ \ \{\ return\ operator=<Derived>(other);\ \}}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ EIGEN\_DEVICE\_FUNC\ Derived\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_af2f49bb475fcfd4965803787c8784d13}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aed266c63b10a4028304901d9c8614199}{AngleAxisType}}\&\ aa);}
\DoxyCodeLine{00106\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>\ EIGEN\_DEVICE\_FUNC\ Derived\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\&\ m);}
\DoxyCodeLine{00107\ \textcolor{comment}{}}
\DoxyCodeLine{00108\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ quaternion\ representing\ an\ identity\ rotation}}
\DoxyCodeLine{00109\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ MatrixBase::Identity()}}
\DoxyCodeLine{00110\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00111\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a869ccdbfc40597182d30a758d48b2a79}{Identity}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(\mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(1),\ \mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(0),\ \mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(0),\ \mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(0));\ \}}
\DoxyCodeLine{00112\ \textcolor{comment}{}}
\DoxyCodeLine{00113\ \textcolor{comment}{\ \ /**\ \(\backslash\)sa\ QuaternionBase::Identity(),\ MatrixBase::setIdentity()}}
\DoxyCodeLine{00114\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00115\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a2db6c89fd0c22344c504e294509ce224}{setIdentity}}()\ \{\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\ <<\ \mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(0),\ \mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(0),\ \mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(0),\ \mbox{\hyperlink{classEigen_1_1RotationBase_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}}(1);\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00116\ \textcolor{comment}{}}
\DoxyCodeLine{00117\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ squared\ norm\ of\ the\ quaternion's\ coefficients}}
\DoxyCodeLine{00118\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ QuaternionBase::norm(),\ MatrixBase::squaredNorm()}}
\DoxyCodeLine{00119\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00120\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ Scalar\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a5370cf77843374a5adefca3f78770961}{squaredNorm}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().squaredNorm();\ \}}
\DoxyCodeLine{00121\ \textcolor{comment}{}}
\DoxyCodeLine{00122\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ norm\ of\ the\ quaternion's\ coefficients}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ QuaternionBase::squaredNorm(),\ MatrixBase::norm()}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00125\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ Scalar\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a3c317a676ccae923a9c4a5e80019be17}{norm}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().norm();\ \}}
\DoxyCodeLine{00126\ \textcolor{comment}{}}
\DoxyCodeLine{00127\ \textcolor{comment}{\ \ /**\ Normalizes\ the\ quaternion\ \(\backslash\)c\ *this}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ normalized(),\ MatrixBase::normalize()\ */}}
\DoxyCodeLine{00129\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa8d67d855940925f634327827aed1cad}{normalize}}()\ \{\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().normalize();\ \}\textcolor{comment}{}}
\DoxyCodeLine{00130\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ a\ normalized\ copy\ of\ \(\backslash\)c\ *this}}
\DoxyCodeLine{00131\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ normalize(),\ MatrixBase::normalized()\ */}}
\DoxyCodeLine{00132\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a2e53ffc8d50b7a591ddd77cc0ccfd2f9}{normalized}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().\mbox{\hyperlink{classEigen_1_1QuaternionBase_a2e53ffc8d50b7a591ddd77cc0ccfd2f9}{normalized}}());\ \}}
\DoxyCodeLine{00133\ \textcolor{comment}{}}
\DoxyCodeLine{00134\ \textcolor{comment}{\ \ \ \ /**\ \(\backslash\)returns\ the\ dot\ product\ of\ \(\backslash\)c\ *this\ and\ \(\backslash\)a\ other}}
\DoxyCodeLine{00135\ \textcolor{comment}{\ \ \ \ *\ Geometrically\ speaking,\ the\ dot\ product\ of\ two\ unit\ quaternions}}
\DoxyCodeLine{00136\ \textcolor{comment}{\ \ \ \ *\ corresponds\ to\ the\ cosine\ of\ half\ the\ angle\ between\ the\ two\ rotations.}}
\DoxyCodeLine{00137\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ angularDistance()}}
\DoxyCodeLine{00138\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00139\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ Scalar\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa95c422b3d12869ed6aa46e4dd5a430a}{dot}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().dot(other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}());\ \}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Product}{Scalar}}\ angularDistance(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00142\ \textcolor{comment}{}}
\DoxyCodeLine{00143\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ an\ equivalent\ 3x3\ rotation\ matrix\ */}}
\DoxyCodeLine{00144\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ac3972e6cb0f56cccbe9e3946a7e494f8}{Matrix3}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a621c71eec9680bf77342b28a473b6874}{toRotationMatrix}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00145\ \textcolor{comment}{}}
\DoxyCodeLine{00146\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ quaternion\ which\ transform\ \(\backslash\)a\ a\ into\ \(\backslash\)a\ b\ through\ a\ rotation\ */}}
\DoxyCodeLine{00147\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived1,\ \textcolor{keyword}{typename}\ Derived2>}
\DoxyCodeLine{00148\ \ \ EIGEN\_DEVICE\_FUNC\ Derived\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a61ce1b4b1faf6849c9663fd86e9b3a70}{setFromTwoVectors}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived1>}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived2>}}\&\ b);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ operator*\ (\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ q)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00151\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ Derived\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad5fb3b0792f02b2863f4dc3c3c70ea2d}{operator*=\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ q);}
\DoxyCodeLine{00152\ \textcolor{comment}{}}
\DoxyCodeLine{00153\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ quaternion\ describing\ the\ inverse\ rotation\ */}}
\DoxyCodeLine{00154\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6a1d8af1fe34cb4127f705c0d10ef649}{inverse}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00155\ \textcolor{comment}{}}
\DoxyCodeLine{00156\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ the\ conjugated\ quaternion\ */}}
\DoxyCodeLine{00157\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa82dabadce488031c298a5a0a92cda14}{conjugate}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ slerp(\textcolor{keyword}{const}\ Scalar\&\ t,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00160\ \textcolor{comment}{}}
\DoxyCodeLine{00161\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ true\ if\ each\ coefficients\ of\ \(\backslash\)c\ *this\ and\ \(\backslash\)a\ other\ are\ all\ exactly\ equal.}}
\DoxyCodeLine{00162\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)warning\ When\ using\ floating\ point\ scalar\ values\ you\ probably\ should\ rather\ use\ a}}
\DoxyCodeLine{00163\ \textcolor{comment}{\ \ \ \ *\ \ \ \ \ \ \ \ \ \ fuzzy\ comparison\ such\ as\ isApprox()}}
\DoxyCodeLine{00164\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ isApprox(),\ operator!=\ */}}
\DoxyCodeLine{00165\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00166\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad9d3ad5fd4c6447b3618fa1a95e9800a}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00167\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\ ==\ other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}();\ \}}
\DoxyCodeLine{00168\ \textcolor{comment}{}}
\DoxyCodeLine{00169\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ true\ if\ at\ least\ one\ pair\ of\ coefficients\ of\ \(\backslash\)c\ *this\ and\ \(\backslash\)a\ other\ are\ not\ exactly\ equal\ to\ each\ other.}}
\DoxyCodeLine{00170\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)warning\ When\ using\ floating\ point\ scalar\ values\ you\ probably\ should\ rather\ use\ a}}
\DoxyCodeLine{00171\ \textcolor{comment}{\ \ \ \ *\ \ \ \ \ \ \ \ \ \ fuzzy\ comparison\ such\ as\ isApprox()}}
\DoxyCodeLine{00172\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ isApprox(),\ operator==\ */}}
\DoxyCodeLine{00173\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00174\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a10c8bd7025522efaf0fcbb01ae9d5360}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00175\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\ !=\ other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}();\ \}}
\DoxyCodeLine{00176\ \textcolor{comment}{}}
\DoxyCodeLine{00177\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ \(\backslash\)c\ true\ if\ \(\backslash\)c\ *this\ is\ approximately\ equal\ to\ \(\backslash\)a\ other,\ within\ the\ precision}}
\DoxyCodeLine{00178\ \textcolor{comment}{\ \ \ \ *\ determined\ by\ \(\backslash\)a\ prec.}}
\DoxyCodeLine{00179\ \textcolor{comment}{\ \ \ \ *}}
\DoxyCodeLine{00180\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)sa\ MatrixBase::isApprox()\ */}}
\DoxyCodeLine{00181\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00182\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a83c9e817b726fb798d3f2e15002a4241}{isApprox}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other,\ \textcolor{keyword}{const}\ RealScalar\&\ prec\ =\ NumTraits<Scalar>::dummy\_precision())\textcolor{keyword}{\ const}}
\DoxyCodeLine{00183\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().isApprox(other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}(),\ prec);\ \}}
\DoxyCodeLine{00184\ \textcolor{comment}{}}
\DoxyCodeLine{00185\ \textcolor{comment}{\ \ /**\ return\ the\ result\ vector\ of\ \(\backslash\)a\ v\ through\ the\ rotation*/}}
\DoxyCodeLine{00186\ \ \ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a03896e1e743aae2c18a0146086cef983}{\_transformVector}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\&\ v)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \textcolor{preprocessor}{\ \ \#ifdef\ EIGEN\_PARSED\_BY\_DOXYGEN}\textcolor{comment}{}}
\DoxyCodeLine{00189\ \textcolor{comment}{\ \ /**\ \(\backslash\)returns\ \(\backslash\)c\ *this\ with\ scalar\ type\ casted\ to\ \(\backslash\)a\ NewScalarType}}
\DoxyCodeLine{00190\ \textcolor{comment}{\ \ \ \ *}}
\DoxyCodeLine{00191\ \textcolor{comment}{\ \ \ \ *\ Note\ that\ if\ \(\backslash\)a\ NewScalarType\ is\ equal\ to\ the\ current\ scalar\ type\ of\ \(\backslash\)c\ *this}}
\DoxyCodeLine{00192\ \textcolor{comment}{\ \ \ \ *\ then\ this\ function\ smartly\ returns\ a\ const\ reference\ to\ \(\backslash\)c\ *this.}}
\DoxyCodeLine{00193\ \textcolor{comment}{\ \ \ \ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00194\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NewScalarType>}
\DoxyCodeLine{00195\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1cast__return__type}{internal::cast\_return\_type<Derived,Quaternion<NewScalarType>}}\ >::type\ cast()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{preprocessor}{\ \ \#else}}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NewScalarType>}
\DoxyCodeLine{00200\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}}
\DoxyCodeLine{00201\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<internal::is\_same<Scalar,NewScalarType>::value}},\textcolor{keyword}{const}\ Derived\&>::type\ cast()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00202\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00204\ \ \ \}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ NewScalarType>}
\DoxyCodeLine{00207\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}}
\DoxyCodeLine{00208\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<!internal::is\_same<Scalar,NewScalarType>::value}},\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<NewScalarType>}}\ >::type\ cast()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00209\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<NewScalarType>}}(\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().\textcolor{keyword}{template}\ cast<NewScalarType>());}
\DoxyCodeLine{00211\ \ \ \}}
\DoxyCodeLine{00212\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_NO\_IO}}
\DoxyCodeLine{00215\ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ operator<<(std::ostream\&\ s,\ \textcolor{keyword}{const}\ QuaternionBase<Derived>\&\ q)\ \{}
\DoxyCodeLine{00216\ \ \ \ \ s\ <<\ q.x()\ <<\ \textcolor{stringliteral}{"{}i\ +\ "{}}\ <<\ q.y()\ <<\ \textcolor{stringliteral}{"{}j\ +\ "{}}\ <<\ q.z()\ <<\ \textcolor{stringliteral}{"{}k"{}}\ <<\ \textcolor{stringliteral}{"{}\ +\ "{}}\ <<\ q.w();}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00218\ \ \ \}}
\DoxyCodeLine{00219\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_QUATERNIONBASE\_PLUGIN}}
\DoxyCodeLine{00222\ \textcolor{preprocessor}{\#\ include\ EIGEN\_QUATERNIONBASE\_PLUGIN}}
\DoxyCodeLine{00223\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00224\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00225\ \ \ EIGEN\_DEFAULT\_COPY\_CONSTRUCTOR(QuaternionBase)}
\DoxyCodeLine{00226\ \ \ EIGEN\_DEFAULT\_EMPTY\_CONSTRUCTOR\_AND\_DESTRUCTOR(QuaternionBase)}
\DoxyCodeLine{00227\ \};}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00230\ \textcolor{comment}{*\ Definition/implementation\ of\ Quaternion<Scalar>}}
\DoxyCodeLine{00231\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00232\ \textcolor{comment}{}}
\DoxyCodeLine{00233\ \textcolor{comment}{/**\ \(\backslash\)geometry\_module\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00234\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00235\ \textcolor{comment}{\ \ *\ \(\backslash\)class\ Quaternion}}
\DoxyCodeLine{00236\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00237\ \textcolor{comment}{\ \ *\ \(\backslash\)brief\ The\ quaternion\ class\ used\ to\ represent\ 3D\ orientations\ and\ rotations}}
\DoxyCodeLine{00238\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00239\ \textcolor{comment}{\ \ *\ \(\backslash\)tparam\ \_Scalar\ the\ scalar\ type,\ i.e.,\ the\ type\ of\ the\ coefficients}}
\DoxyCodeLine{00240\ \textcolor{comment}{\ \ *\ \(\backslash\)tparam\ \_Options\ controls\ the\ memory\ alignment\ of\ the\ coefficients.\ Can\ be\ \(\backslash\)\#\ AutoAlign\ or\ \(\backslash\)\#\ DontAlign.\ Default\ is\ AutoAlign.}}
\DoxyCodeLine{00241\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00242\ \textcolor{comment}{\ \ *\ This\ class\ represents\ a\ quaternion\ \(\backslash\)f\$\ w+xi+yj+zk\ \(\backslash\)f\$\ that\ is\ a\ convenient\ representation\ of}}
\DoxyCodeLine{00243\ \textcolor{comment}{\ \ *\ orientations\ and\ rotations\ of\ objects\ in\ three\ dimensions.\ Compared\ to\ other\ representations}}
\DoxyCodeLine{00244\ \textcolor{comment}{\ \ *\ like\ Euler\ angles\ or\ 3x3\ matrices,\ quaternions\ offer\ the\ following\ advantages:}}
\DoxyCodeLine{00245\ \textcolor{comment}{\ \ *\ \(\backslash\)li\ \(\backslash\)b\ compact\ storage\ (4\ scalars)}}
\DoxyCodeLine{00246\ \textcolor{comment}{\ \ *\ \(\backslash\)li\ \(\backslash\)b\ efficient\ to\ compose\ (28\ flops),}}
\DoxyCodeLine{00247\ \textcolor{comment}{\ \ *\ \(\backslash\)li\ \(\backslash\)b\ stable\ spherical\ interpolation}}
\DoxyCodeLine{00248\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00249\ \textcolor{comment}{\ \ *\ The\ following\ two\ typedefs\ are\ provided\ for\ convenience:}}
\DoxyCodeLine{00250\ \textcolor{comment}{\ \ *\ \(\backslash\)li\ \(\backslash\)c\ Quaternionf\ for\ \(\backslash\)c\ float}}
\DoxyCodeLine{00251\ \textcolor{comment}{\ \ *\ \(\backslash\)li\ \(\backslash\)c\ Quaterniond\ for\ \(\backslash\)c\ double}}
\DoxyCodeLine{00252\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00253\ \textcolor{comment}{\ \ *\ \(\backslash\)warning\ Operations\ interpreting\ the\ quaternion\ as\ rotation\ have\ undefined\ behavior\ if\ the\ quaternion\ is\ not\ normalized.}}
\DoxyCodeLine{00254\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00255\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ \ class\ AngleAxis,\ class\ Transform}}
\DoxyCodeLine{00256\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00259\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\textcolor{keywordtype}{int}\ \_Options>}
\DoxyCodeLine{00260\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<\_Scalar,\_Options>\ >}
\DoxyCodeLine{00261\ \{}
\DoxyCodeLine{00262\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<\_Scalar,\_Options>}}\ PlainObject;}
\DoxyCodeLine{00263\ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00264\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<\_Scalar,4,1,\_Options>}}\ Coefficients;}
\DoxyCodeLine{00265\ \ \ \textcolor{keyword}{enum}\{}
\DoxyCodeLine{00266\ \ \ \ \ Alignment\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Coefficients>::Alignment}},}
\DoxyCodeLine{00267\ \ \ \ \ Flags\ =\ \mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}}}
\DoxyCodeLine{00268\ \ \ \};}
\DoxyCodeLine{00269\ \};}
\DoxyCodeLine{00270\ \}}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options>}
\DoxyCodeLine{00273\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}<Quaternion<\_Scalar,\_Options>\ >}
\DoxyCodeLine{00274\ \{}
\DoxyCodeLine{00275\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00276\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Quaternion<\_Scalar,\_Options>}}\ >\ Base;}
\DoxyCodeLine{00277\ \ \ \textcolor{keyword}{enum}\ \{\ NeedsAlignment\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Quaternion>::Alignment}}>0\ \};}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}})}
\DoxyCodeLine{00282\ \ \ \textcolor{keyword}{using\ }Base::operator*=;}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Quaternion>::Coefficients}}\ Coefficients;}
\DoxyCodeLine{00285\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aed266c63b10a4028304901d9c8614199}{Base::AngleAxisType}}\ AngleAxisType;}
\DoxyCodeLine{00286\ \textcolor{comment}{}}
\DoxyCodeLine{00287\ \textcolor{comment}{\ \ /**\ Default\ constructor\ leaving\ the\ quaternion\ uninitialized.\ */}}
\DoxyCodeLine{00288\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}()\ \{\}}
\DoxyCodeLine{00289\ \textcolor{comment}{}}
\DoxyCodeLine{00290\ \textcolor{comment}{\ \ /**\ Constructs\ and\ initializes\ the\ quaternion\ \(\backslash\)f\$\ w+xi+yj+zk\ \(\backslash\)f\$\ from}}
\DoxyCodeLine{00291\ \textcolor{comment}{\ \ \ \ *\ its\ four\ coefficients\ \(\backslash\)a\ w,\ \(\backslash\)a\ x,\ \(\backslash\)a\ y\ and\ \(\backslash\)a\ z.}}
\DoxyCodeLine{00292\ \textcolor{comment}{\ \ \ \ *}}
\DoxyCodeLine{00293\ \textcolor{comment}{\ \ \ \ *\ \(\backslash\)warning\ Note\ the\ order\ of\ the\ arguments:\ the\ real\ \(\backslash\)a\ w\ coefficient\ first,}}
\DoxyCodeLine{00294\ \textcolor{comment}{\ \ \ \ *\ while\ internally\ the\ coefficients\ are\ stored\ in\ the\ following\ order:}}
\DoxyCodeLine{00295\ \textcolor{comment}{\ \ \ \ *\ [\(\backslash\)c\ x,\ \(\backslash\)c\ y,\ \(\backslash\)c\ z,\ \(\backslash\)c\ w]}}
\DoxyCodeLine{00296\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00297\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a90c179492cd3ca296c85815e20773d60}{Quaternion}}(\textcolor{keyword}{const}\ Scalar\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}},\ \textcolor{keyword}{const}\ Scalar\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}},\ \textcolor{keyword}{const}\ Scalar\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}},\ \textcolor{keyword}{const}\ Scalar\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}})\ :\ m\_coeffs(\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}},\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}},\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}},\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}})\{\}}
\DoxyCodeLine{00298\ \textcolor{comment}{}}
\DoxyCodeLine{00299\ \textcolor{comment}{\ \ /**\ Constructs\ and\ initialize\ a\ quaternion\ from\ the\ array\ data\ */}}
\DoxyCodeLine{00300\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion_abb9e33e5d10806b5bc8b0683e94e8f72}{Quaternion}}(\textcolor{keyword}{const}\ Scalar*\ data)\ :\ m\_coeffs(data)\ \{\}}
\DoxyCodeLine{00301\ \textcolor{comment}{}}
\DoxyCodeLine{00302\ \textcolor{comment}{\ \ /**\ Copy\ constructor\ */}}
\DoxyCodeLine{00303\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1Quaternion_a272ce2dc4e30e6e0d68f455c7b1cc407}{Quaternion}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ other)\ \{\ this-\/>Base::operator=(other);\ \}}
\DoxyCodeLine{00304\ \textcolor{comment}{}}
\DoxyCodeLine{00305\ \textcolor{comment}{\ \ /**\ Constructs\ and\ initializes\ a\ quaternion\ from\ the\ angle-\/axis\ \(\backslash\)a\ aa\ */}}
\DoxyCodeLine{00306\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7ce40a727b6532e52d7d58d399328ce7}{Quaternion}}(\textcolor{keyword}{const}\ AngleAxisType\&\ aa)\ \{\ *\textcolor{keyword}{this}\ =\ aa;\ \}}
\DoxyCodeLine{00307\ \textcolor{comment}{}}
\DoxyCodeLine{00308\ \textcolor{comment}{\ \ /**\ Constructs\ and\ initializes\ a\ quaternion\ from\ either:}}
\DoxyCodeLine{00309\ \textcolor{comment}{\ \ \ \ *\ \ -\/\ a\ rotation\ matrix\ expression,}}
\DoxyCodeLine{00310\ \textcolor{comment}{\ \ \ \ *\ \ -\/\ a\ 4D\ vector\ expression\ representing\ quaternion\ coefficients.}}
\DoxyCodeLine{00311\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00312\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00313\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a3a7ed649b5c8c80ec7e78baf1ed0ba4c}{Quaternion}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived>}}\&\ other)\ \{\ *\textcolor{keyword}{this}\ =\ other;\ \}}
\DoxyCodeLine{00314\ \textcolor{comment}{}}
\DoxyCodeLine{00315\ \textcolor{comment}{\ \ /**\ Explicit\ copy\ constructor\ with\ scalar\ conversion\ */}}
\DoxyCodeLine{00316\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherScalar,\ \textcolor{keywordtype}{int}\ OtherOptions>}
\DoxyCodeLine{00317\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion_af6430466427b40d7ed79bfb6818cccc2}{Quaternion}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion<OtherScalar,\ OtherOptions>}}\&\ other)}
\DoxyCodeLine{00318\ \ \ \{\ m\_coeffs\ =\ other.coeffs().template\ cast<Scalar>();\ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{preprocessor}{\#if\ EIGEN\_HAS\_RVALUE\_REFERENCES}}
\DoxyCodeLine{00321\ \ \ \textcolor{comment}{//\ We\ define\ a\ copy\ constructor,\ which\ means\ we\ don't\ get\ an\ implicit\ move\ constructor\ or\ assignment\ operator.}\textcolor{comment}{}}
\DoxyCodeLine{00322\ \textcolor{comment}{\ \ /**\ Default\ move\ constructor\ */}}
\DoxyCodeLine{00323\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}(\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}\&\&\ other)\ EIGEN\_NOEXCEPT\_IF(std::is\_nothrow\_move\_constructible<Scalar>::value)}
\DoxyCodeLine{00324\ \ \ \ \ :\ m\_coeffs(std::move(other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()))}
\DoxyCodeLine{00325\ \ \ \{\}}
\DoxyCodeLine{00326\ \textcolor{comment}{}}
\DoxyCodeLine{00327\ \textcolor{comment}{\ \ /**\ Default\ move\ assignment\ operator\ */}}
\DoxyCodeLine{00328\ \ \ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}\&\ operator=(\mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}\&\&\ other)\ EIGEN\_NOEXCEPT\_IF(std::is\_nothrow\_move\_assignable<Scalar>::value)}
\DoxyCodeLine{00329\ \ \ \{}
\DoxyCodeLine{00330\ \ \ \ \ m\_coeffs\ =\ std::move(other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}());}
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00332\ \ \ \}}
\DoxyCodeLine{00333\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a8a61f4092bc520c7291e5b5e16e80d71}{UnitRandom}}();}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived1,\ \textcolor{keyword}{typename}\ Derived2>}
\DoxyCodeLine{00338\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}\ FromTwoVectors(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived1>}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived2>}}\&\ b);}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ Coefficients\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\ \{\ \textcolor{keywordflow}{return}\ m\_coeffs;\}}
\DoxyCodeLine{00341\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ Coefficients\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_coeffs;\}}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ EIGEN\_MAKE\_ALIGNED\_OPERATOR\_NEW\_IF(\textcolor{keywordtype}{bool}(NeedsAlignment))}
\DoxyCodeLine{00344\ \ \ }
\DoxyCodeLine{00345\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_QUATERNION\_PLUGIN}}
\DoxyCodeLine{00346\ \textcolor{preprocessor}{\#\ include\ EIGEN\_QUATERNION\_PLUGIN}}
\DoxyCodeLine{00347\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00350\ \ \ Coefficients\ m\_coeffs;}
\DoxyCodeLine{00351\ \ \ }
\DoxyCodeLine{00352\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ \textcolor{keywordtype}{void}\ \_check\_template\_params()}
\DoxyCodeLine{00354\ \ \ \ \ \{}
\DoxyCodeLine{00355\ \ \ \ \ \ \ EIGEN\_STATIC\_ASSERT(\ (\_Options\ \&\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a56908522e51443a0aa0567f879c2e78a}{DontAlign}})\ ==\ \_Options,}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ INVALID\_MATRIX\_TEMPLATE\_PARAMETERS)}
\DoxyCodeLine{00357\ \ \ \ \ \}}
\DoxyCodeLine{00358\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00359\ \};}
\DoxyCodeLine{00360\ \textcolor{comment}{}}
\DoxyCodeLine{00361\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00362\ \textcolor{comment}{\ \ *\ single\ precision\ quaternion\ type\ */}}
\DoxyCodeLine{00363\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<float>}}\ \mbox{\hyperlink{group__Geometry__Module_ga66aa915a26d698c60ed206818c3e4c9b}{Quaternionf}};\textcolor{comment}{}}
\DoxyCodeLine{00364\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00365\ \textcolor{comment}{\ \ *\ double\ precision\ quaternion\ type\ */}}
\DoxyCodeLine{00366\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<double>}}\ \mbox{\hyperlink{group__Geometry__Module_ga5daab8e66aa480465000308455578830}{Quaterniond}};}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00369\ \textcolor{comment}{*\ Specialization\ of\ Map<Quaternion<Scalar>>}}
\DoxyCodeLine{00370\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00373\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options>}
\DoxyCodeLine{00374\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Map}{Map}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<\_Scalar>,\ \_Options>\ >\ :\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<Quaternion<\_Scalar,\ (int(\_Options)\&Aligned)==Aligned\ ?\ AutoAlign\ :\ DontAlign>\ >}
\DoxyCodeLine{00375\ \ \ \{}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Map}{Map<Matrix<\_Scalar,4,1>}},\ \_Options>\ Coefficients;}
\DoxyCodeLine{00377\ \ \ \};}
\DoxyCodeLine{00378\ \}}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00381\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options>}
\DoxyCodeLine{00382\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Map}{Map}}<const\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<\_Scalar>,\ \_Options>\ >\ :\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<Quaternion<\_Scalar,\ (int(\_Options)\&Aligned)==Aligned\ ?\ AutoAlign\ :\ DontAlign>\ >}
\DoxyCodeLine{00383\ \ \ \{}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Map}{Map<const\ Matrix<\_Scalar,4,1>}},\ \_Options>\ Coefficients;}
\DoxyCodeLine{00385\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<\_Scalar,\ (int(\_Options)\&\mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}})==\mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}}\ ?\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13ad0e7f67d40bcde3d41c12849b16ce6ea}{AutoAlign}}\ :\ \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a56908522e51443a0aa0567f879c2e78a}{DontAlign}}>\ >\ TraitsBase;}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00387\ \ \ \ \ \ \ Flags\ =\ TraitsBase::Flags\ \&\ \mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{\string~LvalueBit}}}
\DoxyCodeLine{00388\ \ \ \ \ \};}
\DoxyCodeLine{00389\ \ \ \};}
\DoxyCodeLine{00390\ \}}
\DoxyCodeLine{00391\ \textcolor{comment}{}}
\DoxyCodeLine{00392\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00393\ \textcolor{comment}{\ \ *\ \(\backslash\)brief\ Quaternion\ expression\ mapping\ a\ constant\ memory\ buffer}}
\DoxyCodeLine{00394\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00395\ \textcolor{comment}{\ \ *\ \(\backslash\)tparam\ \_Scalar\ the\ type\ of\ the\ Quaternion\ coefficients}}
\DoxyCodeLine{00396\ \textcolor{comment}{\ \ *\ \(\backslash\)tparam\ \_Options\ see\ class\ Map}}
\DoxyCodeLine{00397\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00398\ \textcolor{comment}{\ \ *\ This\ is\ a\ specialization\ of\ class\ Map\ for\ Quaternion.\ This\ class\ allows\ to\ view}}
\DoxyCodeLine{00399\ \textcolor{comment}{\ \ *\ a\ 4\ scalar\ memory\ buffer\ as\ an\ Eigen's\ Quaternion\ object.}}
\DoxyCodeLine{00400\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00401\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ class\ Map,\ class\ Quaternion,\ class\ QuaternionBase}}
\DoxyCodeLine{00402\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00403\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options>}
\DoxyCodeLine{00404\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1Map_3_01const_01Quaternion_3_01__Scalar_01_4_00_01__Options_01_4_a8b321eb2bf9a4e4b76465564e80f212b}{Map}}<const\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<\_Scalar>,\ \_Options\ >}
\DoxyCodeLine{00405\ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}<Map<const\ Quaternion<\_Scalar>,\ \_Options>\ >}
\DoxyCodeLine{00406\ \{}
\DoxyCodeLine{00407\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Map<const\ Quaternion<\_Scalar>}},\ \_Options>\ >\ Base;}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \ \ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00411\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Map>::Coefficients}}\ Coefficients;}
\DoxyCodeLine{00412\ \ \ \ \ EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1Map_3_01const_01Quaternion_3_01__Scalar_01_4_00_01__Options_01_4_a8b321eb2bf9a4e4b76465564e80f212b}{Map}})}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keyword}{using\ }Base::operator*=;}
\DoxyCodeLine{00414\ \textcolor{comment}{}}
\DoxyCodeLine{00415\ \textcolor{comment}{\ \ \ \ /**\ Constructs\ a\ Mapped\ Quaternion\ object\ from\ the\ pointer\ \(\backslash\)a\ coeffs}}
\DoxyCodeLine{00416\ \textcolor{comment}{\ \ \ \ \ \ *}}
\DoxyCodeLine{00417\ \textcolor{comment}{\ \ \ \ \ \ *\ The\ pointer\ \(\backslash\)a\ coeffs\ must\ reference\ the\ four\ coefficients\ of\ Quaternion\ in\ the\ following\ order:}}
\DoxyCodeLine{00418\ \textcolor{comment}{\ \ \ \ \ \ *\ \(\backslash\)code\ *coeffs\ ==\ \{x,\ y,\ z,\ w\}\ \(\backslash\)endcode}}
\DoxyCodeLine{00419\ \textcolor{comment}{\ \ \ \ \ \ *}}
\DoxyCodeLine{00420\ \textcolor{comment}{\ \ \ \ \ \ *\ If\ the\ template\ parameter\ \_Options\ is\ set\ to\ \#Aligned,\ then\ the\ pointer\ coeffs\ must\ be\ aligned.\ */}}
\DoxyCodeLine{00421\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{explicit}\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1Map_3_01const_01Quaternion_3_01__Scalar_01_4_00_01__Options_01_4_a8b321eb2bf9a4e4b76465564e80f212b}{Map}}(\textcolor{keyword}{const}\ Scalar*\ coeffs)\ :\ m\_coeffs(coeffs)\ \{\}}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ Coefficients\&\ coeffs()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_coeffs;\}}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{keyword}{const}\ Coefficients\ m\_coeffs;}
\DoxyCodeLine{00427\ \};}
\DoxyCodeLine{00428\ \textcolor{comment}{}}
\DoxyCodeLine{00429\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00430\ \textcolor{comment}{\ \ *\ \(\backslash\)brief\ Expression\ of\ a\ quaternion\ from\ a\ memory\ buffer}}
\DoxyCodeLine{00431\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00432\ \textcolor{comment}{\ \ *\ \(\backslash\)tparam\ \_Scalar\ the\ type\ of\ the\ Quaternion\ coefficients}}
\DoxyCodeLine{00433\ \textcolor{comment}{\ \ *\ \(\backslash\)tparam\ \_Options\ see\ class\ Map}}
\DoxyCodeLine{00434\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00435\ \textcolor{comment}{\ \ *\ This\ is\ a\ specialization\ of\ class\ Map\ for\ Quaternion.\ This\ class\ allows\ to\ view}}
\DoxyCodeLine{00436\ \textcolor{comment}{\ \ *\ a\ 4\ scalar\ memory\ buffer\ as\ an\ Eigen's\ \ Quaternion\ object.}}
\DoxyCodeLine{00437\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00438\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ class\ Map,\ class\ Quaternion,\ class\ QuaternionBase}}
\DoxyCodeLine{00439\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00440\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options>}
\DoxyCodeLine{00441\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1Map_3_01Quaternion_3_01__Scalar_01_4_00_01__Options_01_4_ad94fc6daefd48cccb87aef782e0949e5}{Map}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<\_Scalar>,\ \_Options\ >}
\DoxyCodeLine{00442\ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}<Map<Quaternion<\_Scalar>,\ \_Options>\ >}
\DoxyCodeLine{00443\ \{}
\DoxyCodeLine{00444\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Map<Quaternion<\_Scalar>}},\ \_Options>\ >\ Base;}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Map>::Coefficients}}\ Coefficients;}
\DoxyCodeLine{00449\ \ \ \ \ EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1Map_3_01Quaternion_3_01__Scalar_01_4_00_01__Options_01_4_ad94fc6daefd48cccb87aef782e0949e5}{Map}})}
\DoxyCodeLine{00450\ \ \ \ \ \textcolor{keyword}{using\ }Base::operator*=;}
\DoxyCodeLine{00451\ \textcolor{comment}{}}
\DoxyCodeLine{00452\ \textcolor{comment}{\ \ \ \ /**\ Constructs\ a\ Mapped\ Quaternion\ object\ from\ the\ pointer\ \(\backslash\)a\ coeffs}}
\DoxyCodeLine{00453\ \textcolor{comment}{\ \ \ \ \ \ *}}
\DoxyCodeLine{00454\ \textcolor{comment}{\ \ \ \ \ \ *\ The\ pointer\ \(\backslash\)a\ coeffs\ must\ reference\ the\ four\ coefficients\ of\ Quaternion\ in\ the\ following\ order:}}
\DoxyCodeLine{00455\ \textcolor{comment}{\ \ \ \ \ \ *\ \(\backslash\)code\ *coeffs\ ==\ \{x,\ y,\ z,\ w\}\ \(\backslash\)endcode}}
\DoxyCodeLine{00456\ \textcolor{comment}{\ \ \ \ \ \ *}}
\DoxyCodeLine{00457\ \textcolor{comment}{\ \ \ \ \ \ *\ If\ the\ template\ parameter\ \_Options\ is\ set\ to\ \#Aligned,\ then\ the\ pointer\ coeffs\ must\ be\ aligned.\ */}}
\DoxyCodeLine{00458\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{explicit}\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1Map_3_01Quaternion_3_01__Scalar_01_4_00_01__Options_01_4_ad94fc6daefd48cccb87aef782e0949e5}{Map}}(Scalar*\ coeffs)\ :\ m\_coeffs(coeffs)\ \{\}}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ Coefficients\&\ coeffs()\ \{\ \textcolor{keywordflow}{return}\ m\_coeffs;\ \}}
\DoxyCodeLine{00461\ \ \ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ Coefficients\&\ coeffs()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_coeffs;\ \}}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00463\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00464\ \ \ \ \ Coefficients\ m\_coeffs;}
\DoxyCodeLine{00465\ \};}
\DoxyCodeLine{00466\ \textcolor{comment}{}}
\DoxyCodeLine{00467\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00468\ \textcolor{comment}{\ \ *\ Map\ an\ unaligned\ array\ of\ single\ precision\ scalars\ as\ a\ quaternion\ */}}
\DoxyCodeLine{00469\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<float>}},\ 0>\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{group__Geometry__Module_ga867ff508ac860bdf7cab3b8a8fc1048d}{QuaternionMapf}};\textcolor{comment}{}}
\DoxyCodeLine{00470\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00471\ \textcolor{comment}{\ \ *\ Map\ an\ unaligned\ array\ of\ double\ precision\ scalars\ as\ a\ quaternion\ */}}
\DoxyCodeLine{00472\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<double>}},\ 0>\ \ \ \ \ \ \ \ \mbox{\hyperlink{group__Geometry__Module_ga89412d1dcf23537e5990dfb3089ace76}{QuaternionMapd}};\textcolor{comment}{}}
\DoxyCodeLine{00473\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00474\ \textcolor{comment}{\ \ *\ Map\ a\ 16-\/byte\ aligned\ array\ of\ single\ precision\ scalars\ as\ a\ quaternion\ */}}
\DoxyCodeLine{00475\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<float>}},\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}}>\ \ \ \mbox{\hyperlink{group__Geometry__Module_gadaf7f3ee984d9828ca94d66355f0b226}{QuaternionMapAlignedf}};\textcolor{comment}{}}
\DoxyCodeLine{00476\ \textcolor{comment}{/**\ \(\backslash\)ingroup\ Geometry\_Module}}
\DoxyCodeLine{00477\ \textcolor{comment}{\ \ *\ Map\ a\ 16-\/byte\ aligned\ array\ of\ double\ precision\ scalars\ as\ a\ quaternion\ */}}
\DoxyCodeLine{00478\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<double>}},\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}}>\ \ \mbox{\hyperlink{group__Geometry__Module_ga4289f38cc6ecf302e07d2365abc6a902}{QuaternionMapAlignedd}};}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00481\ \textcolor{comment}{*\ Implementation\ of\ QuaternionBase\ methods}}
\DoxyCodeLine{00482\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00484\ \textcolor{comment}{//\ Generic\ Quaternion\ *\ Quaternion\ product}}
\DoxyCodeLine{00485\ \textcolor{comment}{//\ This\ product\ can\ be\ specialized\ for\ a\ given\ architecture\ via\ the\ Arch\ template\ argument.}}
\DoxyCodeLine{00486\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00487\ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ Arch,\ \textcolor{keyword}{class}\ Derived1,\ \textcolor{keyword}{class}\ Derived2,\ \textcolor{keyword}{typename}\ Scalar>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1quat__product}{quat\_product}}}
\DoxyCodeLine{00488\ \{}
\DoxyCodeLine{00489\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ run(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived1>}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived2>}}\&\ b)\{}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}}
\DoxyCodeLine{00491\ \ \ \ \ (}
\DoxyCodeLine{00492\ \ \ \ \ \ \ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ -\/\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ -\/\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ -\/\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}(),}
\DoxyCodeLine{00493\ \ \ \ \ \ \ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ +\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ +\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\ -\/\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}(),}
\DoxyCodeLine{00494\ \ \ \ \ \ \ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ +\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ +\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ -\/\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}(),}
\DoxyCodeLine{00495\ \ \ \ \ \ \ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\ +\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ +\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ -\/\ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ *\ b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()}
\DoxyCodeLine{00496\ \ \ \ \ );}
\DoxyCodeLine{00497\ \ \ \}}
\DoxyCodeLine{00498\ \};}
\DoxyCodeLine{00499\ \}}
\DoxyCodeLine{00500\ \textcolor{comment}{}}
\DoxyCodeLine{00501\ \textcolor{comment}{/**\ \(\backslash\)returns\ the\ concatenation\ of\ two\ rotations\ as\ a\ quaternion-\/quaternion\ product\ */}}
\DoxyCodeLine{00502\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00503\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00504\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename\ internal::traits<Derived>::Scalar}}>}
\DoxyCodeLine{00505\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>::operator*\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00506\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00507\ \ \ EIGEN\_STATIC\_ASSERT((internal::is\_same<typename\ Derived::Scalar,\ typename\ OtherDerived::Scalar>::value),}
\DoxyCodeLine{00508\ \ \ \ YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{00509\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structEigen_1_1internal_1_1quat__product}{internal::quat\_product}}<Architecture::Target,\ Derived,\ OtherDerived,}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}>::run(*\textcolor{keyword}{this},\ other);}
\DoxyCodeLine{00511\ \}}
\DoxyCodeLine{00512\ \textcolor{comment}{}}
\DoxyCodeLine{00513\ \textcolor{comment}{/**\ \(\backslash\)sa\ operator*(Quaternion)\ */}}
\DoxyCodeLine{00514\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00515\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00516\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ Derived\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad5fb3b0792f02b2863f4dc3c3c70ea2d}{QuaternionBase<Derived>::operator*=\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)}
\DoxyCodeLine{00517\ \{}
\DoxyCodeLine{00518\ \ \ derived()\ =\ derived()\ *\ other.derived();}
\DoxyCodeLine{00519\ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00520\ \}}
\DoxyCodeLine{00521\ \textcolor{comment}{}}
\DoxyCodeLine{00522\ \textcolor{comment}{/**\ Rotation\ of\ a\ vector\ by\ a\ quaternion.}}
\DoxyCodeLine{00523\ \textcolor{comment}{\ \ *\ \(\backslash\)remarks\ If\ the\ quaternion\ is\ used\ to\ rotate\ several\ points\ (>1)}}
\DoxyCodeLine{00524\ \textcolor{comment}{\ \ *\ then\ it\ is\ much\ more\ efficient\ to\ first\ convert\ it\ to\ a\ 3x3\ Matrix.}}
\DoxyCodeLine{00525\ \textcolor{comment}{\ \ *\ Comparison\ of\ the\ operation\ cost\ for\ n\ transformations:}}
\DoxyCodeLine{00526\ \textcolor{comment}{\ \ *\ \ \ -\/\ Quaternion2:\ \ \ \ 30n}}
\DoxyCodeLine{00527\ \textcolor{comment}{\ \ *\ \ \ -\/\ Via\ a\ Matrix3:\ 24\ +\ 15n}}
\DoxyCodeLine{00528\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00529\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00530\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{QuaternionBase<Derived>::Vector3}}}
\DoxyCodeLine{00531\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a03896e1e743aae2c18a0146086cef983}{QuaternionBase<Derived>::\_transformVector}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\&\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00532\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00533\ \ \ \ \ \textcolor{comment}{//\ Note\ that\ this\ algorithm\ comes\ from\ the\ optimization\ by\ hand}}
\DoxyCodeLine{00534\ \ \ \ \ \textcolor{comment}{//\ of\ the\ conversion\ to\ a\ Matrix\ followed\ by\ a\ Matrix/Vector\ product.}}
\DoxyCodeLine{00535\ \ \ \ \ \textcolor{comment}{//\ It\ appears\ to\ be\ much\ faster\ than\ the\ common\ algorithm\ found}}
\DoxyCodeLine{00536\ \ \ \ \ \textcolor{comment}{//\ in\ the\ literature\ (30\ versus\ 39\ flops).\ It\ also\ requires\ two}}
\DoxyCodeLine{00537\ \ \ \ \ \textcolor{comment}{//\ Vector3\ as\ temporaries.}}
\DoxyCodeLine{00538\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\ uv\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}().cross(v);}
\DoxyCodeLine{00539\ \ \ \ \ uv\ +=\ uv;}
\DoxyCodeLine{00540\ \ \ \ \ \textcolor{keywordflow}{return}\ v\ +\ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ *\ uv\ +\ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}().cross(uv);}
\DoxyCodeLine{00541\ \}}
\DoxyCodeLine{00542\ }
\DoxyCodeLine{00543\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00544\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ QuaternionBase<Derived>::operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ other)}
\DoxyCodeLine{00545\ \{}
\DoxyCodeLine{00546\ \ \ coeffs()\ =\ other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}();}
\DoxyCodeLine{00547\ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00548\ \}}
\DoxyCodeLine{00549\ }
\DoxyCodeLine{00550\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00551\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00552\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ Derived\&\ QuaternionBase<Derived>::operator=(\textcolor{keyword}{const}\ QuaternionBase<OtherDerived>\&\ other)}
\DoxyCodeLine{00553\ \{}
\DoxyCodeLine{00554\ \ \ coeffs()\ =\ other.coeffs();}
\DoxyCodeLine{00555\ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00556\ \}}
\DoxyCodeLine{00557\ \textcolor{comment}{}}
\DoxyCodeLine{00558\ \textcolor{comment}{/**\ Set\ \(\backslash\)c\ *this\ from\ an\ angle-\/axis\ \(\backslash\)a\ aa\ and\ returns\ a\ reference\ to\ \(\backslash\)c\ *this}}
\DoxyCodeLine{00559\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00560\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00561\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ Derived\&\ QuaternionBase<Derived>::operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aed266c63b10a4028304901d9c8614199}{AngleAxisType}}\&\ aa)}
\DoxyCodeLine{00562\ \{}
\DoxyCodeLine{00563\ \ \ EIGEN\_USING\_STD(cos)}
\DoxyCodeLine{00564\ \ \ EIGEN\_USING\_STD(sin)}
\DoxyCodeLine{00565\ \ \ Scalar\ ha\ =\ Scalar(0.5)*aa.\mbox{\hyperlink{classEigen_1_1AngleAxis_a83d3c08a73c111550b7e480d3ed043d4}{angle}}();\ \textcolor{comment}{//\ Scalar(0.5)\ to\ suppress\ precision\ loss\ warnings}}
\DoxyCodeLine{00566\ \ \ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ =\ cos(ha);}
\DoxyCodeLine{00567\ \ \ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}()\ =\ sin(ha)\ *\ aa.\mbox{\hyperlink{classEigen_1_1AngleAxis_a231eedd1fab9bca948f2bdf93565c005}{axis}}();}
\DoxyCodeLine{00568\ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00569\ \}}
\DoxyCodeLine{00570\ \textcolor{comment}{}}
\DoxyCodeLine{00571\ \textcolor{comment}{/**\ Set\ \(\backslash\)c\ *this\ from\ the\ expression\ \(\backslash\)a\ xpr:}}
\DoxyCodeLine{00572\ \textcolor{comment}{\ \ *\ \ \ -\/\ if\ \(\backslash\)a\ xpr\ is\ a\ 4x1\ vector,\ then\ \(\backslash\)a\ xpr\ is\ assumed\ to\ be\ a\ quaternion}}
\DoxyCodeLine{00573\ \textcolor{comment}{\ \ *\ \ \ -\/\ if\ \(\backslash\)a\ xpr\ is\ a\ 3x3\ matrix,\ then\ \(\backslash\)a\ xpr\ is\ assumed\ to\ be\ rotation\ matrix}}
\DoxyCodeLine{00574\ \textcolor{comment}{\ \ *\ \ \ \ \ and\ \(\backslash\)a\ xpr\ is\ converted\ to\ a\ quaternion}}
\DoxyCodeLine{00575\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00576\ }
\DoxyCodeLine{00577\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00578\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ MatrixDerived>}
\DoxyCodeLine{00579\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ Derived\&\ QuaternionBase<Derived>::operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<MatrixDerived>}}\&\ xpr)}
\DoxyCodeLine{00580\ \{}
\DoxyCodeLine{00581\ \ \ EIGEN\_STATIC\_ASSERT((internal::is\_same<typename\ Derived::Scalar,\ typename\ MatrixDerived::Scalar>::value),}
\DoxyCodeLine{00582\ \ \ \ YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{00583\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{internal::quaternionbase\_assign\_impl<MatrixDerived>::run}}(*\textcolor{keyword}{this},\ xpr.derived());}
\DoxyCodeLine{00584\ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00585\ \}}
\DoxyCodeLine{00586\ \textcolor{comment}{}}
\DoxyCodeLine{00587\ \textcolor{comment}{/**\ Convert\ the\ quaternion\ to\ a\ 3x3\ rotation\ matrix.\ The\ quaternion\ is\ required\ to}}
\DoxyCodeLine{00588\ \textcolor{comment}{\ \ *\ be\ normalized,\ otherwise\ the\ result\ is\ undefined.}}
\DoxyCodeLine{00589\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00590\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00591\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ac3972e6cb0f56cccbe9e3946a7e494f8}{QuaternionBase<Derived>::Matrix3}}}
\DoxyCodeLine{00592\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a621c71eec9680bf77342b28a473b6874}{QuaternionBase<Derived>::toRotationMatrix}}(\textcolor{keywordtype}{void})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00593\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00594\ \ \ \textcolor{comment}{//\ NOTE\ if\ inlined,\ then\ gcc\ 4.2\ and\ 4.4\ get\ rid\ of\ the\ temporary\ (not\ gcc\ 4.3\ !!)}}
\DoxyCodeLine{00595\ \ \ \textcolor{comment}{//\ if\ not\ inlined\ then\ the\ cost\ of\ the\ return\ by\ value\ is\ huge\ \string~\ +35\%,}}
\DoxyCodeLine{00596\ \ \ \textcolor{comment}{//\ however,\ not\ inlining\ this\ function\ is\ an\ order\ of\ magnitude\ slower,\ so}}
\DoxyCodeLine{00597\ \ \ \textcolor{comment}{//\ it\ has\ to\ be\ inlined,\ and\ so\ the\ return\ by\ value\ is\ not\ an\ issue}}
\DoxyCodeLine{00598\ \ \ \mbox{\hyperlink{classEigen_1_1QuaternionBase_ac3972e6cb0f56cccbe9e3946a7e494f8}{Matrix3}}\ res;}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \textcolor{keyword}{const}\ Scalar\ tx\ \ =\ Scalar(2)*this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}();}
\DoxyCodeLine{00601\ \ \ \textcolor{keyword}{const}\ Scalar\ ty\ \ =\ Scalar(2)*this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}();}
\DoxyCodeLine{00602\ \ \ \textcolor{keyword}{const}\ Scalar\ tz\ \ =\ Scalar(2)*this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}();}
\DoxyCodeLine{00603\ \ \ \textcolor{keyword}{const}\ Scalar\ twx\ =\ tx*this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}();}
\DoxyCodeLine{00604\ \ \ \textcolor{keyword}{const}\ Scalar\ twy\ =\ ty*this-\/>w();}
\DoxyCodeLine{00605\ \ \ \textcolor{keyword}{const}\ Scalar\ twz\ =\ tz*this-\/>w();}
\DoxyCodeLine{00606\ \ \ \textcolor{keyword}{const}\ Scalar\ txx\ =\ tx*this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}();}
\DoxyCodeLine{00607\ \ \ \textcolor{keyword}{const}\ Scalar\ txy\ =\ ty*this-\/>x();}
\DoxyCodeLine{00608\ \ \ \textcolor{keyword}{const}\ Scalar\ txz\ =\ tz*this-\/>x();}
\DoxyCodeLine{00609\ \ \ \textcolor{keyword}{const}\ Scalar\ tyy\ =\ ty*this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}();}
\DoxyCodeLine{00610\ \ \ \textcolor{keyword}{const}\ Scalar\ tyz\ =\ tz*this-\/>y();}
\DoxyCodeLine{00611\ \ \ \textcolor{keyword}{const}\ Scalar\ tzz\ =\ tz*this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}();}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00613\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(0,0)\ =\ Scalar(1)-\/(tyy+tzz);}
\DoxyCodeLine{00614\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(0,1)\ =\ txy-\/twz;}
\DoxyCodeLine{00615\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(0,2)\ =\ txz+twy;}
\DoxyCodeLine{00616\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(1,0)\ =\ txy+twz;}
\DoxyCodeLine{00617\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(1,1)\ =\ Scalar(1)-\/(txx+tzz);}
\DoxyCodeLine{00618\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(1,2)\ =\ tyz-\/twx;}
\DoxyCodeLine{00619\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(2,0)\ =\ txz-\/twy;}
\DoxyCodeLine{00620\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(2,1)\ =\ tyz+twx;}
\DoxyCodeLine{00621\ \ \ res.\mbox{\hyperlink{classEigen_1_1Matrix_aec085505a683eaffbd9b6680e99611af}{coeffRef}}(2,2)\ =\ Scalar(1)-\/(txx+tyy);}
\DoxyCodeLine{00622\ }
\DoxyCodeLine{00623\ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00624\ \}}
\DoxyCodeLine{00625\ \textcolor{comment}{}}
\DoxyCodeLine{00626\ \textcolor{comment}{/**\ Sets\ \(\backslash\)c\ *this\ to\ be\ a\ quaternion\ representing\ a\ rotation\ between}}
\DoxyCodeLine{00627\ \textcolor{comment}{\ \ *\ the\ two\ arbitrary\ vectors\ \(\backslash\)a\ a\ and\ \(\backslash\)a\ b.\ In\ other\ words,\ the\ built}}
\DoxyCodeLine{00628\ \textcolor{comment}{\ \ *\ rotation\ represent\ a\ rotation\ sending\ the\ line\ of\ direction\ \(\backslash\)a\ a}}
\DoxyCodeLine{00629\ \textcolor{comment}{\ \ *\ to\ the\ line\ of\ direction\ \(\backslash\)a\ b,\ both\ lines\ passing\ through\ the\ origin.}}
\DoxyCodeLine{00630\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00631\ \textcolor{comment}{\ \ *\ \(\backslash\)returns\ a\ reference\ to\ \(\backslash\)c\ *this.}}
\DoxyCodeLine{00632\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00633\ \textcolor{comment}{\ \ *\ Note\ that\ the\ two\ input\ vectors\ do\ \(\backslash\)b\ not\ have\ to\ be\ normalized,\ and}}
\DoxyCodeLine{00634\ \textcolor{comment}{\ \ *\ do\ not\ need\ to\ have\ the\ same\ norm.}}
\DoxyCodeLine{00635\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00636\ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00637\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived1,\ \textcolor{keyword}{typename}\ Derived2>}
\DoxyCodeLine{00638\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ Derived\&\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a61ce1b4b1faf6849c9663fd86e9b3a70}{QuaternionBase<Derived>::setFromTwoVectors}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived1>}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived2>}}\&\ b)}
\DoxyCodeLine{00639\ \{}
\DoxyCodeLine{00640\ \ \ EIGEN\_USING\_STD(sqrt)}
\DoxyCodeLine{00641\ \ \ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\ v0\ =\ a.\mbox{\hyperlink{classEigen_1_1MatrixBase_ab0b6f60e35452acd779e340856fde121}{normalized}}();}
\DoxyCodeLine{00642\ \ \ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\ v1\ =\ b.\mbox{\hyperlink{classEigen_1_1MatrixBase_ab0b6f60e35452acd779e340856fde121}{normalized}}();}
\DoxyCodeLine{00643\ \ \ Scalar\ c\ =\ v1.dot(v0);}
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00645\ \ \ \textcolor{comment}{//\ if\ dot\ ==\ -\/1,\ vectors\ are\ nearly\ opposites}}
\DoxyCodeLine{00646\ \ \ \textcolor{comment}{//\ =>\ accurately\ compute\ the\ rotation\ axis\ by\ computing\ the}}
\DoxyCodeLine{00647\ \ \ \textcolor{comment}{//\ \ \ \ intersection\ of\ the\ two\ planes.\ This\ is\ done\ by\ solving:}}
\DoxyCodeLine{00648\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ x\string^T\ v0\ =\ 0}}
\DoxyCodeLine{00649\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ x\string^T\ v1\ =\ 0}}
\DoxyCodeLine{00650\ \ \ \textcolor{comment}{//\ \ \ \ under\ the\ constraint:}}
\DoxyCodeLine{00651\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ ||x||\ =\ 1}}
\DoxyCodeLine{00652\ \ \ \textcolor{comment}{//\ \ \ \ which\ yields\ a\ singular\ value\ problem}}
\DoxyCodeLine{00653\ \ \ \textcolor{keywordflow}{if}\ (c\ <\ Scalar(-\/1)+NumTraits<Scalar>::dummy\_precision())}
\DoxyCodeLine{00654\ \ \ \{}
\DoxyCodeLine{00655\ \ \ \ \ c\ =\ numext::maxi(c,Scalar(-\/1));}
\DoxyCodeLine{00656\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,2,3>}}\ m;\ m\ <<\ v0.transpose(),\ v1.transpose();}
\DoxyCodeLine{00657\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1JacobiSVD}{JacobiSVD<Matrix<Scalar,2,3>}}\ >\ svd(m,\ \mbox{\hyperlink{group__enums_ggae3e239fb70022eb8747994cf5d68b4a9a36581f7c662f7def31efd500c284f930}{ComputeFullV}});}
\DoxyCodeLine{00658\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\ axis\ =\ svd.\mbox{\hyperlink{classEigen_1_1SVDBase_af09f06357d7d7442f7ca7343713756fe}{matrixV}}().col(2);}
\DoxyCodeLine{00659\ }
\DoxyCodeLine{00660\ \ \ \ \ Scalar\ w2\ =\ (Scalar(1)+c)*Scalar(0.5);}
\DoxyCodeLine{00661\ \ \ \ \ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ =\ sqrt(w2);}
\DoxyCodeLine{00662\ \ \ \ \ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}()\ =\ axis\ *\ sqrt(Scalar(1)\ -\/\ w2);}
\DoxyCodeLine{00663\ \ \ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00664\ \ \ \}}
\DoxyCodeLine{00665\ \ \ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}}\ axis\ =\ v0.cross(v1);}
\DoxyCodeLine{00666\ \ \ Scalar\ s\ =\ sqrt((Scalar(1)+c)*Scalar(2));}
\DoxyCodeLine{00667\ \ \ Scalar\ invs\ =\ Scalar(1)/s;}
\DoxyCodeLine{00668\ \ \ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}()\ =\ axis\ *\ invs;}
\DoxyCodeLine{00669\ \ \ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ =\ s\ *\ Scalar(0.5);}
\DoxyCodeLine{00670\ }
\DoxyCodeLine{00671\ \ \ \textcolor{keywordflow}{return}\ derived();}
\DoxyCodeLine{00672\ \}}
\DoxyCodeLine{00673\ \textcolor{comment}{}}
\DoxyCodeLine{00674\ \textcolor{comment}{/**\ \(\backslash\)returns\ a\ random\ unit\ quaternion\ following\ a\ uniform\ distribution\ law\ on\ SO(3)}}
\DoxyCodeLine{00675\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00676\ \textcolor{comment}{\ \ *\ \(\backslash\)note\ The\ implementation\ is\ based\ on\ http://planning.cs.uiuc.edu/node198.html}}
\DoxyCodeLine{00677\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00678\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keywordtype}{int}\ Options>}
\DoxyCodeLine{00679\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion<Scalar,Options>}}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a8a61f4092bc520c7291e5b5e16e80d71}{Quaternion<Scalar,Options>::UnitRandom}}()}
\DoxyCodeLine{00680\ \{}
\DoxyCodeLine{00681\ \ \ EIGEN\_USING\_STD(sqrt)}
\DoxyCodeLine{00682\ \ \ EIGEN\_USING\_STD(sin)}
\DoxyCodeLine{00683\ \ \ EIGEN\_USING\_STD(cos)}
\DoxyCodeLine{00684\ \ \ \textcolor{keyword}{const}\ Scalar\ u1\ =\ internal::random<Scalar>(0,\ 1),}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ u2\ =\ internal::random<Scalar>(0,\ 2*EIGEN\_PI),}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ u3\ =\ internal::random<Scalar>(0,\ 2*EIGEN\_PI);}
\DoxyCodeLine{00687\ \ \ \textcolor{keyword}{const}\ Scalar\ a\ =\ sqrt(Scalar(1)\ -\/\ u1),}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ b\ =\ sqrt(u1);}
\DoxyCodeLine{00689\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}\ (a\ *\ sin(u2),\ a\ *\ cos(u2),\ b\ *\ sin(u3),\ b\ *\ cos(u3));}
\DoxyCodeLine{00690\ \}}
\DoxyCodeLine{00691\ }
\DoxyCodeLine{00692\ \textcolor{comment}{}}
\DoxyCodeLine{00693\ \textcolor{comment}{/**\ Returns\ a\ quaternion\ representing\ a\ rotation\ between}}
\DoxyCodeLine{00694\ \textcolor{comment}{\ \ *\ the\ two\ arbitrary\ vectors\ \(\backslash\)a\ a\ and\ \(\backslash\)a\ b.\ In\ other\ words,\ the\ built}}
\DoxyCodeLine{00695\ \textcolor{comment}{\ \ *\ rotation\ represent\ a\ rotation\ sending\ the\ line\ of\ direction\ \(\backslash\)a\ a}}
\DoxyCodeLine{00696\ \textcolor{comment}{\ \ *\ to\ the\ line\ of\ direction\ \(\backslash\)a\ b,\ both\ lines\ passing\ through\ the\ origin.}}
\DoxyCodeLine{00697\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00698\ \textcolor{comment}{\ \ *\ \(\backslash\)returns\ resulting\ quaternion}}
\DoxyCodeLine{00699\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00700\ \textcolor{comment}{\ \ *\ Note\ that\ the\ two\ input\ vectors\ do\ \(\backslash\)b\ not\ have\ to\ be\ normalized,\ and}}
\DoxyCodeLine{00701\ \textcolor{comment}{\ \ *\ do\ not\ need\ to\ have\ the\ same\ norm.}}
\DoxyCodeLine{00702\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00703\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keywordtype}{int}\ Options>}
\DoxyCodeLine{00704\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived1,\ \textcolor{keyword}{typename}\ Derived2>}
\DoxyCodeLine{00705\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion<Scalar,Options>}}\ Quaternion<Scalar,Options>::FromTwoVectors(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived1>}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived2>}}\&\ b)}
\DoxyCodeLine{00706\ \{}
\DoxyCodeLine{00707\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Quaternion_a7f8e93e2615e56344fd0d89c2916f9be}{Quaternion}}\ quat;}
\DoxyCodeLine{00708\ \ \ \ \ quat.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a61ce1b4b1faf6849c9663fd86e9b3a70}{setFromTwoVectors}}(a,\ b);}
\DoxyCodeLine{00709\ \ \ \ \ \textcolor{keywordflow}{return}\ quat;}
\DoxyCodeLine{00710\ \}}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \textcolor{comment}{}}
\DoxyCodeLine{00713\ \textcolor{comment}{/**\ \(\backslash\)returns\ the\ multiplicative\ inverse\ of\ \(\backslash\)c\ *this}}
\DoxyCodeLine{00714\ \textcolor{comment}{\ \ *\ Note\ that\ in\ most\ cases,\ i.e.,\ if\ you\ simply\ want\ the\ opposite\ rotation,}}
\DoxyCodeLine{00715\ \textcolor{comment}{\ \ *\ and/or\ the\ quaternion\ is\ normalized,\ then\ it\ is\ enough\ to\ use\ the\ conjugate.}}
\DoxyCodeLine{00716\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00717\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ QuaternionBase::conjugate()}}
\DoxyCodeLine{00718\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00719\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00720\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename\ internal::traits<Derived>::Scalar}}>\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6a1d8af1fe34cb4127f705c0d10ef649}{QuaternionBase<Derived>::inverse}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00721\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00722\ \ \ \textcolor{comment}{//\ FIXME\ should\ this\ function\ be\ called\ multiplicativeInverse\ and\ conjugate()\ be\ called\ inverse()\ or\ opposite()\ \ ??}}
\DoxyCodeLine{00723\ \ \ Scalar\ n2\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_a5370cf77843374a5adefca3f78770961}{squaredNorm}}();}
\DoxyCodeLine{00724\ \ \ \textcolor{keywordflow}{if}\ (n2\ >\ Scalar(0))}
\DoxyCodeLine{00725\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(\mbox{\hyperlink{classEigen_1_1QuaternionBase_aa82dabadce488031c298a5a0a92cda14}{conjugate}}().\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\ /\ n2);}
\DoxyCodeLine{00726\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00727\ \ \ \{}
\DoxyCodeLine{00728\ \ \ \ \ \textcolor{comment}{//\ return\ an\ invalid\ result\ to\ flag\ the\ error}}
\DoxyCodeLine{00729\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(Coefficients::Zero());}
\DoxyCodeLine{00730\ \ \ \}}
\DoxyCodeLine{00731\ \}}
\DoxyCodeLine{00732\ }
\DoxyCodeLine{00733\ \textcolor{comment}{//\ Generic\ conjugate\ of\ a\ Quaternion}}
\DoxyCodeLine{00734\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00735\ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ Arch,\ \textcolor{keyword}{class}\ Derived,\ \textcolor{keyword}{typename}\ Scalar>\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1quat__conj}{quat\_conj}}}
\DoxyCodeLine{00736\ \{}
\DoxyCodeLine{00737\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ run(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ q)\{}
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}(),-\/q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}(),-\/q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}(),-\/q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}());}
\DoxyCodeLine{00739\ \ \ \}}
\DoxyCodeLine{00740\ \};}
\DoxyCodeLine{00741\ \}}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{}}
\DoxyCodeLine{00743\ \textcolor{comment}{/**\ \(\backslash\)returns\ the\ conjugate\ of\ the\ \(\backslash\)c\ *this\ which\ is\ equal\ to\ the\ multiplicative\ inverse}}
\DoxyCodeLine{00744\ \textcolor{comment}{\ \ *\ if\ the\ quaternion\ is\ normalized.}}
\DoxyCodeLine{00745\ \textcolor{comment}{\ \ *\ The\ conjugate\ of\ a\ quaternion\ represents\ the\ opposite\ rotation.}}
\DoxyCodeLine{00746\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00747\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ Quaternion2::inverse()}}
\DoxyCodeLine{00748\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00749\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00750\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename\ internal::traits<Derived>::Scalar}}>}
\DoxyCodeLine{00751\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa82dabadce488031c298a5a0a92cda14}{QuaternionBase<Derived>::conjugate}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00752\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00753\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structEigen_1_1internal_1_1quat__conj}{internal::quat\_conj}}<Architecture::Target,\ Derived,}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}>::run(*\textcolor{keyword}{this});}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00756\ \}}
\DoxyCodeLine{00757\ \textcolor{comment}{}}
\DoxyCodeLine{00758\ \textcolor{comment}{/**\ \(\backslash\)returns\ the\ angle\ (in\ radian)\ between\ two\ rotations}}
\DoxyCodeLine{00759\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ dot()}}
\DoxyCodeLine{00760\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00761\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00762\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00763\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00764\ QuaternionBase<Derived>::angularDistance(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00765\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00766\ \ \ EIGEN\_USING\_STD(atan2)}
\DoxyCodeLine{00767\ \ \ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}\ d\ =\ (*this)\ *\ other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_aa82dabadce488031c298a5a0a92cda14}{conjugate}}();}
\DoxyCodeLine{00768\ \ \ \textcolor{keywordflow}{return}\ Scalar(2)\ *\ atan2(\ d.\mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}().norm(),\ numext::abs(d.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}())\ );}
\DoxyCodeLine{00769\ \}}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ }
\DoxyCodeLine{00772\ \ \ \ \ \textcolor{comment}{}}
\DoxyCodeLine{00773\ \textcolor{comment}{/**\ \(\backslash\)returns\ the\ spherical\ linear\ interpolation\ between\ the\ two\ quaternions}}
\DoxyCodeLine{00774\ \textcolor{comment}{\ \ *\ \(\backslash\)c\ *this\ and\ \(\backslash\)a\ other\ at\ the\ parameter\ \(\backslash\)a\ t\ in\ [0;1].}}
\DoxyCodeLine{00775\ \textcolor{comment}{\ \ *\ }}
\DoxyCodeLine{00776\ \textcolor{comment}{\ \ *\ This\ represents\ an\ interpolation\ for\ a\ constant\ motion\ between\ \(\backslash\)c\ *this\ and\ \(\backslash\)a\ other,}}
\DoxyCodeLine{00777\ \textcolor{comment}{\ \ *\ see\ also\ http://en.wikipedia.org/wiki/Slerp.}}
\DoxyCodeLine{00778\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00779\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ Derived>}
\DoxyCodeLine{00780\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ OtherDerived>}
\DoxyCodeLine{00781\ EIGEN\_DEVICE\_FUNC\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename\ internal::traits<Derived>::Scalar}}>}
\DoxyCodeLine{00782\ QuaternionBase<Derived>::slerp(\textcolor{keyword}{const}\ Scalar\&\ t,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00783\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00784\ \ \ EIGEN\_USING\_STD(acos)}
\DoxyCodeLine{00785\ \ \ EIGEN\_USING\_STD(sin)}
\DoxyCodeLine{00786\ \ \ \textcolor{keyword}{const}\ Scalar\ one\ =\ Scalar(1)\ -\/\ NumTraits<Scalar>::epsilon();}
\DoxyCodeLine{00787\ \ \ Scalar\ d\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1QuaternionBase_aa95c422b3d12869ed6aa46e4dd5a430a}{dot}}(other);}
\DoxyCodeLine{00788\ \ \ Scalar\ absD\ =\ numext::abs(d);}
\DoxyCodeLine{00789\ }
\DoxyCodeLine{00790\ \ \ Scalar\ scale0;}
\DoxyCodeLine{00791\ \ \ Scalar\ scale1;}
\DoxyCodeLine{00792\ }
\DoxyCodeLine{00793\ \ \ \textcolor{keywordflow}{if}(absD>=one)}
\DoxyCodeLine{00794\ \ \ \{}
\DoxyCodeLine{00795\ \ \ \ \ scale0\ =\ Scalar(1)\ -\/\ t;}
\DoxyCodeLine{00796\ \ \ \ \ scale1\ =\ t;}
\DoxyCodeLine{00797\ \ \ \}}
\DoxyCodeLine{00798\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00799\ \ \ \{}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{comment}{//\ theta\ is\ the\ angle\ between\ the\ 2\ quaternions}}
\DoxyCodeLine{00801\ \ \ \ \ Scalar\ theta\ =\ acos(absD);}
\DoxyCodeLine{00802\ \ \ \ \ Scalar\ sinTheta\ =\ sin(theta);}
\DoxyCodeLine{00803\ }
\DoxyCodeLine{00804\ \ \ \ \ scale0\ =\ sin(\ (\ Scalar(1)\ -\/\ t\ )\ *\ theta)\ /\ sinTheta;}
\DoxyCodeLine{00805\ \ \ \ \ scale1\ =\ sin(\ (\ t\ *\ theta)\ )\ /\ sinTheta;}
\DoxyCodeLine{00806\ \ \ \}}
\DoxyCodeLine{00807\ \ \ \textcolor{keywordflow}{if}(d<Scalar(0))\ scale1\ =\ -\/scale1;}
\DoxyCodeLine{00808\ }
\DoxyCodeLine{00809\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(scale0\ *\ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\ +\ scale1\ *\ other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}());}
\DoxyCodeLine{00810\ \}}
\DoxyCodeLine{00811\ }
\DoxyCodeLine{00812\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ \textcolor{comment}{//\ set\ from\ a\ rotation\ matrix}}
\DoxyCodeLine{00815\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Other>}
\DoxyCodeLine{00816\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{quaternionbase\_assign\_impl}}<Other,3,3>}
\DoxyCodeLine{00817\ \{}
\DoxyCodeLine{00818\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Other::Scalar\ Scalar;}
\DoxyCodeLine{00819\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ run(\mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ q,\ \textcolor{keyword}{const}\ Other\&\ a\_mat)}
\DoxyCodeLine{00820\ \ \ \{}
\DoxyCodeLine{00821\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ internal::nested\_eval<Other,2>::type\ mat(a\_mat);}
\DoxyCodeLine{00822\ \ \ \ \ EIGEN\_USING\_STD(sqrt)}
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{comment}{//\ This\ algorithm\ comes\ from\ \ "{}Quaternion\ Calculus\ and\ Fast\ Animation"{},}}
\DoxyCodeLine{00824\ \ \ \ \ \textcolor{comment}{//\ Ken\ Shoemake,\ 1987\ SIGGRAPH\ course\ notes}}
\DoxyCodeLine{00825\ \ \ \ \ Scalar\ t\ =\ mat.trace();}
\DoxyCodeLine{00826\ \ \ \ \ \textcolor{keywordflow}{if}\ (t\ >\ Scalar(0))}
\DoxyCodeLine{00827\ \ \ \ \ \{}
\DoxyCodeLine{00828\ \ \ \ \ \ \ t\ =\ sqrt(t\ +\ Scalar(1.0));}
\DoxyCodeLine{00829\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ =\ Scalar(0.5)*t;}
\DoxyCodeLine{00830\ \ \ \ \ \ \ t\ =\ Scalar(0.5)/t;}
\DoxyCodeLine{00831\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\ =\ (mat.coeff(2,1)\ -\/\ mat.coeff(1,2))\ *\ t;}
\DoxyCodeLine{00832\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\ =\ (mat.coeff(0,2)\ -\/\ mat.coeff(2,0))\ *\ t;}
\DoxyCodeLine{00833\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\ =\ (mat.coeff(1,0)\ -\/\ mat.coeff(0,1))\ *\ t;}
\DoxyCodeLine{00834\ \ \ \ \ \}}
\DoxyCodeLine{00835\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00836\ \ \ \ \ \{}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ i\ =\ 0;}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mat.coeff(1,1)\ >\ mat.coeff(0,0))}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ i\ =\ 1;}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mat.coeff(2,2)\ >\ mat.coeff(i,i))}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ i\ =\ 2;}
\DoxyCodeLine{00842\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ (i+1)\%3;}
\DoxyCodeLine{00843\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ k\ =\ (j+1)\%3;}
\DoxyCodeLine{00844\ }
\DoxyCodeLine{00845\ \ \ \ \ \ \ t\ =\ sqrt(mat.coeff(i,i)-\/mat.coeff(j,j)-\/mat.coeff(k,k)\ +\ Scalar(1.0));}
\DoxyCodeLine{00846\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().coeffRef(i)\ =\ Scalar(0.5)\ *\ t;}
\DoxyCodeLine{00847\ \ \ \ \ \ \ t\ =\ Scalar(0.5)/t;}
\DoxyCodeLine{00848\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\ =\ (mat.coeff(k,j)-\/mat.coeff(j,k))*t;}
\DoxyCodeLine{00849\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().coeffRef(j)\ =\ (mat.coeff(j,i)+mat.coeff(i,j))*t;}
\DoxyCodeLine{00850\ \ \ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().coeffRef(k)\ =\ (mat.coeff(k,i)+mat.coeff(i,k))*t;}
\DoxyCodeLine{00851\ \ \ \ \ \}}
\DoxyCodeLine{00852\ \ \ \}}
\DoxyCodeLine{00853\ \};}
\DoxyCodeLine{00854\ }
\DoxyCodeLine{00855\ \textcolor{comment}{//\ set\ from\ a\ vector\ of\ coefficients\ assumed\ to\ be\ a\ quaternion}}
\DoxyCodeLine{00856\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Other>}
\DoxyCodeLine{00857\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{quaternionbase\_assign\_impl}}<Other,4,1>}
\DoxyCodeLine{00858\ \{}
\DoxyCodeLine{00859\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Other::Scalar\ Scalar;}
\DoxyCodeLine{00860\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ Derived>\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ run(\mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\&\ q,\ \textcolor{keyword}{const}\ Other\&\ vec)}
\DoxyCodeLine{00861\ \ \ \{}
\DoxyCodeLine{00862\ \ \ \ \ q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\ =\ vec;}
\DoxyCodeLine{00863\ \ \ \}}
\DoxyCodeLine{00864\ \};}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00867\ }
\DoxyCodeLine{00868\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00869\ }
\DoxyCodeLine{00870\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_QUATERNION\_H}}

\end{DoxyCode}
