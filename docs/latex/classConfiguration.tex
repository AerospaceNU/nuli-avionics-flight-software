\doxysection{Configuration Class Reference}
\hypertarget{classConfiguration}{}\label{classConfiguration}\index{Configuration@{Configuration}}


Manages the configuration system.  




{\ttfamily \#include $<$Configuration.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$unsigned N, unsigned M$>$ }\\\mbox{\hyperlink{classConfiguration_adc0757d368b5da9dd854bc251cb08c27}{Configuration}} (const \mbox{\hyperlink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s}}(\&all\+Configs)\mbox{[}N\mbox{]}, uint8\+\_\+t(\&buffer)\mbox{[}M\mbox{]})
\begin{DoxyCompactList}\small\item\em Construct a \doxylink{classConfiguration}{Configuration} object with an external buffer. \end{DoxyCompactList}\item 
{\footnotesize template$<$unsigned N$>$ }\\\mbox{\hyperlink{classConfiguration_a0ecadb5dfb05923fcfa5c31fff6e1523}{Configuration}} (const \mbox{\hyperlink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s}}(\&all\+Configs)\mbox{[}N\mbox{]})
\begin{DoxyCompactList}\small\item\em Construct a \doxylink{classConfiguration}{Configuration} object using the internal buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classConfiguration_aa50415a19aaf8bdf9ee91a7084d0246c}{setup}} (\mbox{\hyperlink{classHardwareAbstraction}{Hardware\+Abstraction}} \texorpdfstring{$\ast$}{*}hardware, uint8\+\_\+t id)
\begin{DoxyCompactList}\small\item\em Reads in the \doxylink{classConfiguration}{Configuration} from FRAM. \end{DoxyCompactList}\item 
{\footnotesize template$<$unsigned N$>$ }\\\mbox{\hyperlink{classConfigurationData}{Configuration\+Data}}$<$ typename \mbox{\hyperlink{structGetConfigurationType__s}{Get\+Configuration\+Type\+\_\+s}}$<$ N $>$\+::type $>$ \mbox{\hyperlink{classConfiguration_a8cb48cd98b79d59c9ecc394c1393ae6e}{get\+Configurable}} ()
\begin{DoxyCompactList}\small\item\em Gets a configuration varable. \end{DoxyCompactList}\item 
{\footnotesize template$<$unsigned N$>$ }\\void \mbox{\hyperlink{classConfiguration_a64b05c9afb9e541494fb2ed83d5a5442}{set\+Default}} (const typename \mbox{\hyperlink{structGetConfigurationType__s}{Get\+Configuration\+Type\+\_\+s}}$<$ N $>$\+::type \&value)
\begin{DoxyCompactList}\small\item\em Overwrites the existing default value for a configuration varable. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classConfiguration_ad183ffbebc7cf9e4aa0a1168969163ea}{push\+Updates\+To\+Memory}} ()
\begin{DoxyCompactList}\small\item\em Writes all updated configuration varables to FRAM. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classConfiguration_ae4a311f24dd58852dd4b7bcbdb36c9e7}\label{classConfiguration_ae4a311f24dd58852dd4b7bcbdb36c9e7} 
static constexpr Configuration\+ID\+\_\+t {\bfseries REQUIRED\+\_\+\+CONFIGS} \mbox{[}$\,$\mbox{]} = \{CONFIGURATION\+\_\+\+VERSION\+\_\+c, CONFIGURATION\+\_\+\+ALL\+\_\+\+ID\+\_\+\+CRC\+\_\+c, CONFIGURATION\+\_\+\+CRC\+\_\+c\}
\begin{DoxyCompactList}\small\item\em All configuration variables required for this to function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages the configuration system. 

Handles interactions with FRAM, CRC validation, and interfacing with the rest of the code 

\label{doc-constructors}
\Hypertarget{classConfiguration_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classConfiguration_adc0757d368b5da9dd854bc251cb08c27}\index{Configuration@{Configuration}!Configuration@{Configuration}}
\index{Configuration@{Configuration}!Configuration@{Configuration}}
\doxysubsubsection{\texorpdfstring{Configuration()}{Configuration()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classConfiguration_adc0757d368b5da9dd854bc251cb08c27} 
template$<$unsigned N, unsigned M$>$ \\
Configuration\+::\+Configuration (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s}}(\&)}]{all\+Configs}{\mbox{[}\+N\mbox{]}, }\item[{uint8\+\_\+t(\&)}]{buffer}{\mbox{[}\+M\mbox{]}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Construct a \doxylink{classConfiguration}{Configuration} object with an external buffer. 

Takes in an array of \doxylink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s} (which is an array of Configuration\+ID\+\_\+t). These arrays must contain all configuration IDs that will be used anywhere in the specific build of code. Duplicates are expected in will be filtered out. 
\begin{DoxyTemplParams}{Template Parameters}
{\em N} & Size of the array of \doxylink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s} \\
\hline
{\em M} & Size of the external buffer \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em all\+Configs} & 2D array of all Configuration\+ID\+\_\+t that are going to be in the configuration \\
\hline
{\em buffer} & data buffer to store all the configuration variables in \\
\hline
\end{DoxyParams}
\Hypertarget{classConfiguration_a0ecadb5dfb05923fcfa5c31fff6e1523}\index{Configuration@{Configuration}!Configuration@{Configuration}}
\index{Configuration@{Configuration}!Configuration@{Configuration}}
\doxysubsubsection{\texorpdfstring{Configuration()}{Configuration()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classConfiguration_a0ecadb5dfb05923fcfa5c31fff6e1523} 
template$<$unsigned N$>$ \\
Configuration\+::\+Configuration (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s}}(\&)}]{all\+Configs}{\mbox{[}\+N\mbox{]}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Construct a \doxylink{classConfiguration}{Configuration} object using the internal buffer. 

Takes in an array of \doxylink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s} (which is an array of Configuration\+ID\+\_\+t). These arrays must contain all configuration IDs that will be used anywhere in the specific build of code. Duplicates are expected in will be filtered out. 
\begin{DoxyTemplParams}{Template Parameters}
{\em N} & Size of the array of \doxylink{structConfigurationIDSet__s}{Configuration\+IDSet\+\_\+s} \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em all\+Configs} & 2D array of all Configuration\+ID\+\_\+t that are going to be in the configuration \\
\hline
\end{DoxyParams}


\label{doc-func-members}
\Hypertarget{classConfiguration_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classConfiguration_a8cb48cd98b79d59c9ecc394c1393ae6e}\index{Configuration@{Configuration}!getConfigurable@{getConfigurable}}
\index{getConfigurable@{getConfigurable}!Configuration@{Configuration}}
\doxysubsubsection{\texorpdfstring{getConfigurable()}{getConfigurable()}}
{\footnotesize\ttfamily \label{classConfiguration_a8cb48cd98b79d59c9ecc394c1393ae6e} 
template$<$unsigned N$>$ \\
\mbox{\hyperlink{classConfigurationData}{Configuration\+Data}}$<$ typename \mbox{\hyperlink{structGetConfigurationType__s}{Get\+Configuration\+Type\+\_\+s}}$<$ N $>$\+::type $>$ Configuration\+::get\+Configurable (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Gets a configuration varable. 

Returns a \doxylink{classConfigurationData}{Configuration\+Data}, which is a wrapper class that provides an interface to configuration varables. It tracks changes to the value, allowing for a seamless update proces with \doxylink{classConfiguration_ad183ffbebc7cf9e4aa0a1168969163ea}{push\+Updates\+To\+Memory()}. 
\begin{DoxyTemplParams}{Template Parameters}
{\em N} & \doxylink{classConfiguration}{Configuration} varable ID to retrieve. Templating allows for compile time type checks \\
\hline
\end{DoxyTemplParams}
\begin{DoxyReturn}{Returns}
\doxylink{classConfiguration}{Configuration} varable 
\end{DoxyReturn}
\Hypertarget{classConfiguration_ad183ffbebc7cf9e4aa0a1168969163ea}\index{Configuration@{Configuration}!pushUpdatesToMemory@{pushUpdatesToMemory}}
\index{pushUpdatesToMemory@{pushUpdatesToMemory}!Configuration@{Configuration}}
\doxysubsubsection{\texorpdfstring{pushUpdatesToMemory()}{pushUpdatesToMemory()}}
{\footnotesize\ttfamily \label{classConfiguration_ad183ffbebc7cf9e4aa0a1168969163ea} 
void Configuration\+::push\+Updates\+To\+Memory (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Writes all updated configuration varables to FRAM. 

Should be called every loop. Manages CRCs and efficiently blocks FRAM writes \Hypertarget{classConfiguration_a64b05c9afb9e541494fb2ed83d5a5442}\index{Configuration@{Configuration}!setDefault@{setDefault}}
\index{setDefault@{setDefault}!Configuration@{Configuration}}
\doxysubsubsection{\texorpdfstring{setDefault()}{setDefault()}}
{\footnotesize\ttfamily \label{classConfiguration_a64b05c9afb9e541494fb2ed83d5a5442} 
template$<$unsigned N$>$ \\
void Configuration\+::set\+Default (\begin{DoxyParamCaption}\item[{const typename \mbox{\hyperlink{structGetConfigurationType__s}{Get\+Configuration\+Type\+\_\+s}}$<$ N $>$\+::type \&}]{value}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Overwrites the existing default value for a configuration varable. 

MUST be called prior to \doxylink{classConfiguration_aa50415a19aaf8bdf9ee91a7084d0246c}{Configuration.\+setup()} or it will have no effect 
\begin{DoxyTemplParams}{Template Parameters}
{\em N} & \doxylink{classConfiguration}{Configuration} varable ID \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em value} & New default value \\
\hline
\end{DoxyParams}
\Hypertarget{classConfiguration_aa50415a19aaf8bdf9ee91a7084d0246c}\index{Configuration@{Configuration}!setup@{setup}}
\index{setup@{setup}!Configuration@{Configuration}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily \label{classConfiguration_aa50415a19aaf8bdf9ee91a7084d0246c} 
void Configuration\+::setup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classHardwareAbstraction}{Hardware\+Abstraction}} \texorpdfstring{$\ast$}{*}}]{hardware}{, }\item[{uint8\+\_\+t}]{id}{}\end{DoxyParamCaption})}



Reads in the \doxylink{classConfiguration}{Configuration} from FRAM. 

Checks that the configuration passes a CRC check, version number check, and a CRC check on all the IDs present (to track if the set of configuration varables has changed). If any errors are present, it restores the default values. 
\begin{DoxyParams}{Parameters}
{\em hardware} & \doxylink{classHardwareAbstraction}{Hardware\+Abstraction} to retrieve the FRAM and \doxylink{classDebugStream}{Debug\+Stream} from \\
\hline
{\em id} & Index of the FRAM in the \doxylink{classHardwareAbstraction}{Hardware\+Abstraction} FRAM array \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
nuli-\/avionics-\/flight-\/software/platformio\+\_\+nuli\+\_\+avionics\+\_\+flight\+\_\+software/src/core/Configuration.\+h\item 
nuli-\/avionics-\/flight-\/software/platformio\+\_\+nuli\+\_\+avionics\+\_\+flight\+\_\+software/src/core/Configuration.\+cpp\end{DoxyCompactItemize}
