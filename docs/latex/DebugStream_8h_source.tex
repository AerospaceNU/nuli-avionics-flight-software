\doxysection{Debug\+Stream.\+h}
\hypertarget{DebugStream_8h_source}{}\label{DebugStream_8h_source}\index{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/src/core/generic\_hardware/DebugStream.h@{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/src/core/generic\_hardware/DebugStream.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ PLATFORMIO\_NULI\_AVIONICS\_FLIGHT\_SOFTWARE\_DEBUGSTREAM\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ PLATFORMIO\_NULI\_AVIONICS\_FLIGHT\_SOFTWARE\_DEBUGSTREAM\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{Avionics_8h}{Avionics.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <cstdarg>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classDebugStream}{DebugStream}}\ \{}
\DoxyCodeLine{00014\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classDebugStream}{\string~DebugStream}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ setup()\ \{}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{void}\ message(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...)\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}MSG:\(\backslash\)t"{}});}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ va\_start(args,\ fmt);}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ vformat(fmt,\ args);}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ va\_end(args);}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00028\ \ \ \ \ \}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keywordtype}{void}\ warn(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...)\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}WARN:\(\backslash\)t"{}});}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ va\_start(args,\ fmt);}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ vformat(fmt,\ args);}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ va\_end(args);}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00037\ \ \ \ \ \}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{void}\ error(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...)\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}ERROR:\(\backslash\)t"{}});}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ va\_start(args,\ fmt);}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ vformat(fmt,\ args);}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ va\_end(args);}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00046\ \ \ \ \ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{void}\ debug(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...)\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}DEBUG:\(\backslash\)t"{}});}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ va\_start(args,\ fmt);}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ vformat(fmt,\ args);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ va\_end(args);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{void}\ data(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ ...)\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ va\_start(args,\ fmt);}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ vformat(fmt,\ args);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ va\_end(args);}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ write(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ Implement\ this\ in\ your\ derived\ class\ to\ actually\ output\ bytes.}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{comment}{//\ Should\ return\ number\ of\ bytes\ written.\ The\ default\ is\ a\ no-\/op.}}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{size\_t}\ write(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ buffer,\ \textcolor{keywordtype}{size\_t}\ size)\ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ (void)buffer;}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ (void)size;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00073\ \ \ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ small\ helper\ to\ write\ C\ string}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ write(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ str)\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ write((\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*)str,\ strlen(str));}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ maximum\ single-\/format\ output\ buffer.\ Adjust\ if\ you\ need\ bigger}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ BUF\_SIZE\ =\ 512;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{void}\ vformat(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fmt,\ va\_list\ args)\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ buf[1024];\ \textcolor{comment}{//\ bigger\ buffer\ for\ long\ lines}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ bi\ =\ 0;}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ putch\ =\ [\&](\textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (bi\ <\ \textcolor{keyword}{sizeof}(buf))\ buf[bi++]\ =\ c;}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ puts\_lit\ =\ [\&](\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s)\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*s\ \&\&\ bi\ <\ \textcolor{keyword}{sizeof}(buf))\ buf[bi++]\ =\ *s++;}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ uint\_to\_str\ =\ [](\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ val,\ \textcolor{keywordtype}{unsigned}\ base,\ \textcolor{keywordtype}{bool}\ upper,\ \textcolor{keywordtype}{char}*\ out,\ \textcolor{keywordtype}{size\_t}\ outlen)\ -\/>\ \textcolor{keywordtype}{size\_t}\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ digits\ =\ upper\ ?\ \textcolor{stringliteral}{"{}0123456789ABCDEF"{}}\ :\ \textcolor{stringliteral}{"{}0123456789abcdef"{}};}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ tmp[32];}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ ti\ =\ 0;}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (val\ ==\ 0)\ tmp[ti++]\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (val\ \&\&\ ti\ <\ \textcolor{keyword}{sizeof}(tmp))\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tmp[ti++]\ =\ digits[val\ \%\ base];}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ /=\ base;}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ oi\ =\ 0;}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (ti\ >\ 0\ \&\&\ oi\ +\ 1\ <\ outlen)\ out[oi++]\ =\ tmp[-\/-\/ti];}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ out[oi]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ oi;}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ format\_integer\ =\ [\&](\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ uv,\ \textcolor{keywordtype}{bool}\ is\_signed,\ \textcolor{keywordtype}{bool}\ negative,}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ base,\ \textcolor{keywordtype}{bool}\ upper,\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{char}\ pad)\ \{}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ numbuf[32];}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ len\ =\ uint\_to\_str(uv,\ base,\ upper,\ numbuf,\ \textcolor{keyword}{sizeof}(numbuf));}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_signed\ \&\&\ negative)\ putch(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ (\textcolor{keywordtype}{int})len;\ i\ <\ width;\ ++i)\ putch(pad);}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ len;\ ++i)\ putch(numbuf[i]);}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ format\_float\ =\ [\&](\textcolor{keywordtype}{double}\ val,\ \textcolor{keywordtype}{int}\ precision)\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (val\ <\ 0)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(\textcolor{charliteral}{'-\/'});}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ =\ -\/val;}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ int\_part\ =\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ long)val;}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ frac\ =\ val\ -\/\ (double)int\_part;}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ intbuf[32];}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ intlen\ =\ uint\_to\_str(int\_part,\ 10,\ \textcolor{keyword}{false},\ intbuf,\ \textcolor{keyword}{sizeof}(intbuf));}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ intlen;\ ++i)\ putch(intbuf[i]);}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ >\ 0)\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ precision;\ ++i)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frac\ *=\ 10.0;}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ digit\ =\ (int)frac;}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(\textcolor{charliteral}{'0'}\ +\ digit);}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frac\ -\/=\ digit;}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*fmt\ \&\&\ bi\ <\ \textcolor{keyword}{sizeof}(buf))\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*fmt\ !=\ \textcolor{charliteral}{'\%'})\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(*fmt++);}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ flags\ (only\ '0'\ supported)}}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ pad\ =\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*fmt\ ==\ \textcolor{charliteral}{'0'})\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pad\ =\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ width}}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ width\ =\ 0;}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*fmt\ >=\ \textcolor{charliteral}{'0'}\ \&\&\ *fmt\ <=\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ width\ =\ width\ *\ 10\ +\ (*fmt\ -\/\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ precision}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ precision\ =\ -\/1;}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*fmt\ ==\ \textcolor{charliteral}{'.'})\ \{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ 0;}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (*fmt\ >=\ \textcolor{charliteral}{'0'}\ \&\&\ *fmt\ <=\ \textcolor{charliteral}{'9'})\ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ precision\ *\ 10\ +\ (*fmt\ -\/\ \textcolor{charliteral}{'0'});}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ length\ modifiers}}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ long\_flag\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ long\_long\_flag\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*fmt\ ==\ \textcolor{charliteral}{'l'})\ \{}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*fmt\ ==\ \textcolor{charliteral}{'l'})\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ long\_long\_flag\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ long\_flag\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ spec\ =\ *fmt++;}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (spec)\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'d'}:\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ v;}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (long\_long\_flag)}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (long\_flag)}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ neg\ =\ v\ <\ 0;}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ uv\ =\ neg\ ?\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ long)(-\/v)\ :\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ long)v;}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(uv,\ \textcolor{keyword}{true},\ neg,\ 10,\ \textcolor{keyword}{false},\ width,\ pad);}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'u'}:\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ v;}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (long\_long\_flag)}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (long\_flag)}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(v,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ 10,\ \textcolor{keyword}{false},\ width,\ pad);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'x'}:}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'X'}:\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ v;}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (long\_long\_flag)}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (long\_flag)}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long});}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ v\ =\ va\_arg(args,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int});}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(v,\ \textcolor{keyword}{false},\ \textcolor{keyword}{false},\ 16,\ spec\ ==\ \textcolor{charliteral}{'X'},\ width,\ pad);}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'c'}:\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch((\textcolor{keywordtype}{char})va\_arg(args,\ \textcolor{keywordtype}{int}));}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'s'}:\ \{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ s\ =\ va\_arg(args,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*);}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!s)\ s\ =\ \textcolor{stringliteral}{"{}(null)"{}};}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ puts\_lit(s);}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'f'}:\ \{}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ fv\ =\ va\_arg(args,\ \textcolor{keywordtype}{double});}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ <\ 0)\ precision\ =\ 6;\ \textcolor{comment}{//\ default}}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (precision\ >\ 9)\ precision\ =\ 9;\ \textcolor{comment}{//\ cap}}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_float(fv,\ precision);}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'p'}:\ \{}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ ptr\ =\ va\_arg(args,\ \textcolor{keywordtype}{void}*);}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ puts\_lit(\textcolor{stringliteral}{"{}0x"{}});}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ v\ =\ (uintptr\_t)ptr;}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ tmp[32];}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ len\ =\ uint\_to\_str(v,\ 16,\ \textcolor{keyword}{false},\ tmp,\ \textcolor{keyword}{sizeof}(tmp));}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ len;\ ++i)\ putch(tmp[i]);}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{charliteral}{'\%'}:}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(\textcolor{charliteral}{'\%'});}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(\textcolor{charliteral}{'\%'});}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(spec);}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ write(buf,\ bi);}
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{comment}{//\ void\ vformat(const\ char*\ fmt,\ va\_list\ args)\ \{}}
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ char\ buf[1024];\ //\ bigger\ buffer\ for\ long\ lines}}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ size\_t\ bi\ =\ 0;}}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ putch\ =\ [\&](char\ c)\ \{}}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (bi\ <\ sizeof(buf))\ buf[bi++]\ =\ c;}}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00286\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ puts\_lit\ =\ [\&](const\ char*\ s)\ \{}}
\DoxyCodeLine{00287\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ while\ (*s\ \&\&\ bi\ <\ sizeof(buf))\ buf[bi++]\ =\ *s++;}}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ uint\_to\_str\ =\ [](unsigned\ long\ long\ val,\ unsigned\ base,\ bool\ upper,\ char*\ out,\ size\_t\ outlen)\ -\/>\ size\_t\ \{}}
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ const\ char*\ digits\ =\ upper\ ?\ "{}0123456789ABCDEF"{}\ :\ "{}0123456789abcdef"{};}}
\DoxyCodeLine{00292\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ tmp[32];}}
\DoxyCodeLine{00293\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ ti\ =\ 0;}}
\DoxyCodeLine{00294\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (val\ ==\ 0)\ tmp[ti++]\ =\ '0';}}
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ else\ while\ (val\ \&\&\ ti\ <\ sizeof(tmp))\ \{}}
\DoxyCodeLine{00296\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ tmp[ti++]\ =\ digits[val\ \%\ base];}}
\DoxyCodeLine{00297\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ val\ /=\ base;}}
\DoxyCodeLine{00298\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ oi\ =\ 0;}}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ while\ (ti\ >\ 0\ \&\&\ oi\ +\ 1\ <\ outlen)\ out[oi++]\ =\ tmp[-\/-\/ti];}}
\DoxyCodeLine{00301\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ out[oi]\ =\ '\(\backslash\)0';}}
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ return\ oi;}}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ format\_integer\ =\ [\&](unsigned\ long\ long\ uv,\ bool\ is\_signed,\ bool\ negative,}}
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int\ base,\ bool\ upper,\ int\ width,\ char\ pad)\ \{}}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ numbuf[32];}}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ len\ =\ uint\_to\_str(uv,\ base,\ upper,\ numbuf,\ sizeof(numbuf));}}
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (is\_signed\ \&\&\ negative)\ putch('-\/');}}
\DoxyCodeLine{00310\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00311\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ (int)len;\ i\ <\ width;\ ++i)\ putch(pad);}}
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ len;\ ++i)\ putch(numbuf[i]);}}
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00315\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ format\_float\ =\ [\&](double\ val,\ int\ precision)\ \{}}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (val\ <\ 0)\ \{}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch('-\/');}}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ val\ =\ -\/val;}}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ unsigned\ long\ long\ int\_part\ =\ (unsigned\ long\ long)val;}}
\DoxyCodeLine{00321\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ double\ frac\ =\ val\ -\/\ (double)int\_part;}}
\DoxyCodeLine{00322\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ intbuf[32];}}
\DoxyCodeLine{00324\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ intlen\ =\ uint\_to\_str(int\_part,\ 10,\ false,\ intbuf,\ sizeof(intbuf));}}
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ intlen;\ ++i)\ putch(intbuf[i]);}}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00327\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (precision\ >\ 0)\ \{}}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch('.');}}
\DoxyCodeLine{00329\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ precision;\ ++i)\ \{}}
\DoxyCodeLine{00330\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frac\ *=\ 10.0;}}
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int\ digit\ =\ (int)frac;}}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch('0'\ +\ digit);}}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ frac\ -\/=\ digit;}}
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00335\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00336\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00337\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ while\ (*fmt\ \&\&\ bi\ <\ sizeof(buf))\ \{}}
\DoxyCodeLine{00339\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*fmt\ !=\ '\%')\ \{}}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch(*fmt++);}}
\DoxyCodeLine{00341\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ continue;}}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ ++fmt;}}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00345\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ flags\ (only\ '0'\ supported)}}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ pad\ =\ '\ ';}}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*fmt\ ==\ '0')\ \{}}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ pad\ =\ '0';}}
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ width}}
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ width\ =\ 0;}}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ while\ (*fmt\ >=\ '0'\ \&\&\ *fmt\ <=\ '9')\ \{}}
\DoxyCodeLine{00355\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ width\ =\ width\ *\ 10\ +\ (*fmt\ -\/\ '0');}}
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}}
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00359\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ precision}}
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ precision\ =\ -\/1;}}
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*fmt\ ==\ '.')\ \{}}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}}
\DoxyCodeLine{00363\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ 0;}}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ while\ (*fmt\ >=\ '0'\ \&\&\ *fmt\ <=\ '9')\ \{}}
\DoxyCodeLine{00365\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ precision\ *\ 10\ +\ (*fmt\ -\/\ '0');}}
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}}
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00370\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ length\ modifiers}}
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ bool\ long\_flag\ =\ false;}}
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*fmt\ ==\ 'l')\ \{}}
\DoxyCodeLine{00373\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ long\_flag\ =\ true;}}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++fmt;}}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00377\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ spec\ =\ *fmt++;}}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ switch\ (spec)\ \{}}
\DoxyCodeLine{00380\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'd':\ \{}}
\DoxyCodeLine{00381\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ long\ v\ =\ long\_flag\ ?\ va\_arg(args,\ long)\ :\ va\_arg(args,\ int);}}
\DoxyCodeLine{00382\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ bool\ neg\ =\ v\ <\ 0;}}
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ uv\ =\ neg\ ?\ -\/v\ :\ v;}}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(uv,\ true,\ neg,\ 10,\ false,\ width,\ pad);}}
\DoxyCodeLine{00385\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00386\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'u':}}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'l':}}
\DoxyCodeLine{00389\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'U':}}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'L':\ \{}}
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ v\ =\ va\_arg(args,\ unsigned\ long);}}
\DoxyCodeLine{00392\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(v,\ false,\ false,\ 10,\ false,\ width,\ pad);}}
\DoxyCodeLine{00393\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00395\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'x':}}
\DoxyCodeLine{00396\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'X':\ \{}}
\DoxyCodeLine{00397\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ int\ v\ =\ va\_arg(args,\ unsigned\ int);}}
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(v,\ false,\ false,\ 16,\ spec\ ==\ 'X',\ width,\ pad);}}
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00400\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'c':\ \{}}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch((char)va\_arg(args,\ int));}}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00404\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00405\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 's':\ \{}}
\DoxyCodeLine{00406\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ const\ char*\ s\ =\ va\_arg(args,\ const\ char*);}}
\DoxyCodeLine{00407\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (!s)\ s\ =\ "{}(null)"{};}}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ puts\_lit(s);}}
\DoxyCodeLine{00409\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00410\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00411\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'f':\ \{}}
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ double\ fv\ =\ va\_arg(args,\ double);}}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (precision\ <\ 0)\ precision\ =\ 6;\ //\ default}}
\DoxyCodeLine{00414\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (precision\ >\ 9)\ precision\ =\ 9;\ //\ cap}}
\DoxyCodeLine{00415\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ format\_float(fv,\ precision);}}
\DoxyCodeLine{00416\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00418\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ 'p':\ \{}}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ void*\ ptr\ =\ va\_arg(args,\ void*);}}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ puts\_lit("{}0x"{});}}
\DoxyCodeLine{00421\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ long\ v\ =\ (uintptr\_t)ptr;}}
\DoxyCodeLine{00422\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ char\ tmp[32];}}
\DoxyCodeLine{00423\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ len\ =\ uint\_to\_str(v,\ 16,\ false,\ tmp,\ sizeof(tmp));}}
\DoxyCodeLine{00424\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ len;\ ++i)\ putch(tmp[i]);}}
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00427\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ case\ '\%':\ putch('\%');}}
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ default:\ putch('\%');}}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch(spec);}}
\DoxyCodeLine{00431\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00432\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00433\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \}}}
\DoxyCodeLine{00434\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ write(buf,\ bi);}}
\DoxyCodeLine{00436\ \ \ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ \textcolor{comment}{//\ Primary\ vformat\ implementation}}
\DoxyCodeLine{00439\ \ \ \ \ \textcolor{comment}{//\ void\ vformat(const\ char*\ fmt,\ va\_list\ args)\ \{}}
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ char\ buf[BUF\_SIZE];}}
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ size\_t\ bi\ =\ 0;}}
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ flush\ =\ [\&](void)\ \{}}
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (bi\ >\ 0)\ \{}}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ write(buf,\ bi);}}
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ bi\ =\ 0;}}
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00450\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ putch\ =\ [\&](char\ c)\ \{}}
\DoxyCodeLine{00451\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (bi\ +\ 1\ >=\ BUF\_SIZE)\ flush();}}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ buf[bi++]\ =\ c;}}
\DoxyCodeLine{00453\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00454\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00455\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ puts\_lit\ =\ [\&](const\ char*\ s)\ \{}}
\DoxyCodeLine{00456\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ while\ (*s)\ \{}}
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (bi\ +\ 1\ >=\ BUF\_SIZE)\ flush();}}
\DoxyCodeLine{00458\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ buf[bi++]\ =\ *s++;}}
\DoxyCodeLine{00459\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00460\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00461\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00462\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ //\ integer\ -\/>\ string\ helper}}
\DoxyCodeLine{00463\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ uint\_to\_str\ =\ [\&](unsigned\ long\ long\ val,\ unsigned\ base,\ bool\ upper,}}
\DoxyCodeLine{00464\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ char\ *out,\ size\_t\ outlen)\ -\/>\ size\_t\ \{}}
\DoxyCodeLine{00465\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ const\ char*\ digits\_l\ =\ "{}0123456789abcdef"{};}}
\DoxyCodeLine{00466\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ const\ char*\ digits\_u\ =\ "{}0123456789ABCDEF"{};}}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ const\ char*\ digits\ =\ upper\ ?\ digits\_u\ :\ digits\_l;}}
\DoxyCodeLine{00468\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00469\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ generate\ in\ reverse}}
\DoxyCodeLine{00470\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ tmp[32];}}
\DoxyCodeLine{00471\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ ti\ =\ 0;}}
\DoxyCodeLine{00472\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (val\ ==\ 0)\ \{}}
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ tmp[ti++]\ =\ '0';}}
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00475\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ while\ (val\ \&\&\ ti\ <\ sizeof(tmp))\ \{}}
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tmp[ti++]\ =\ digits[val\ \%\ base];}}
\DoxyCodeLine{00477\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ val\ /=\ base;}}
\DoxyCodeLine{00478\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00479\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00480\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ reverse\ into\ out}}
\DoxyCodeLine{00481\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ oi\ =\ 0;}}
\DoxyCodeLine{00482\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ while\ (ti\ >\ 0\ \&\&\ oi\ +\ 1\ <\ outlen)\ \{}}
\DoxyCodeLine{00483\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ out[oi++]\ =\ tmp[-\/-\/ti];}}
\DoxyCodeLine{00484\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00485\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ out[oi]\ =\ '\(\backslash\)0';}}
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ return\ oi;}}
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ //\ signed\ integer\ to\ string\ with\ width/pad}}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ format\_integer\ =\ [\&](long\ long\ sval,\ unsigned\ long\ long\ uval,}}
\DoxyCodeLine{00491\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ is\_signed,}}
\DoxyCodeLine{00492\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ negative,}}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ base,\ bool\ upper,}}
\DoxyCodeLine{00494\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int\ width,\ int\ precision,}}
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ left\_adj,\ char\ pad,}}
\DoxyCodeLine{00496\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ show\_sign,\ bool\ space\_sign,\ bool\ alt)\ \{}}
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ numbuf[64];}}
\DoxyCodeLine{00498\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ nlen\ =\ 0;}}
\DoxyCodeLine{00499\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00500\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (is\_signed)\ \{}}
\DoxyCodeLine{00501\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ nlen\ =\ uint\_to\_str(static\_cast<unsigned\ long\ long>(uval),\ base,\ upper,\ numbuf,\ sizeof(numbuf));}}
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ nlen\ =\ uint\_to\_str(uval,\ base,\ upper,\ numbuf,\ sizeof(numbuf));}}
\DoxyCodeLine{00504\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00505\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00506\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ handle\ precision:\ minimum\ digits}}
\DoxyCodeLine{00507\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ prec\_pad\ =\ 0;}}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (precision\ >\ 0\ \&\&\ (size\_t)precision\ >\ nlen)\ \{}}
\DoxyCodeLine{00509\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ prec\_pad\ =\ precision\ -\/\ (int)nlen;}}
\DoxyCodeLine{00510\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ if\ (precision\ ==\ 0\ \&\&\ nlen\ ==\ 1\ \&\&\ numbuf[0]\ ==\ '0')\ \{}}
\DoxyCodeLine{00511\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ //\ precision\ zero\ and\ value\ zero\ =>\ empty\ output\ (printf\ behaviour)}}
\DoxyCodeLine{00512\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ nlen\ =\ 0;}}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ numbuf[0]\ =\ '\(\backslash\)0';}}
\DoxyCodeLine{00514\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00515\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00516\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ prefix\ handling}}
\DoxyCodeLine{00517\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ prefix[3]\ =\ \{0\};}}
\DoxyCodeLine{00518\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ prefix\_len\ =\ 0;}}
\DoxyCodeLine{00519\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (negative)\ \{}}
\DoxyCodeLine{00520\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ prefix[prefix\_len++]\ =\ '-\/';}}
\DoxyCodeLine{00521\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ if\ (show\_sign)\ \{}}
\DoxyCodeLine{00522\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ prefix[prefix\_len++]\ =\ '+';}}
\DoxyCodeLine{00523\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ if\ (space\_sign)\ \{}}
\DoxyCodeLine{00524\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ prefix[prefix\_len++]\ =\ '\ ';}}
\DoxyCodeLine{00525\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00526\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00527\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (alt)\ \{}}
\DoxyCodeLine{00528\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (base\ ==\ 16\ \&\&\ nlen\ >\ 0)\ \{}}
\DoxyCodeLine{00529\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prefix[prefix\_len++]\ =\ '0';}}
\DoxyCodeLine{00530\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prefix[prefix\_len++]\ =\ upper\ ?\ 'X'\ :\ 'x';}}
\DoxyCodeLine{00531\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ if\ (base\ ==\ 8\ \&\&\ (nlen\ ==\ 0\ ||\ numbuf[0]\ !=\ '0'))\ \{}}
\DoxyCodeLine{00532\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ ensure\ leading\ 0\ for\ octal\ if\ alt}}
\DoxyCodeLine{00533\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ we'll\ handle\ by\ reducing\ precision\ so\ a\ leading\ 0\ is\ printed}}
\DoxyCodeLine{00534\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (prec\_pad\ ==\ 0)\ prec\_pad\ =\ 1;}}
\DoxyCodeLine{00535\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00536\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00537\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00538\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ total\_len\ =\ (int)prefix\_len\ +\ (int)prec\_pad\ +\ (int)nlen;}}
\DoxyCodeLine{00539\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ pad\_len\ =\ 0;}}
\DoxyCodeLine{00540\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (width\ >\ total\_len)\ pad\_len\ =\ width\ -\/\ total\_len;}}
\DoxyCodeLine{00541\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00542\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (!left\_adj)\ \{}}
\DoxyCodeLine{00543\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ //\ padding\ before\ prefix\ (unless\ pad\ is\ '0',\ then\ after\ prefix)}}
\DoxyCodeLine{00544\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (pad\ ==\ '0')\ \{}}
\DoxyCodeLine{00545\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ prefix\ first}}
\DoxyCodeLine{00546\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ prefix\_len;\ ++i)\ putch(prefix[i]);}}
\DoxyCodeLine{00547\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ zero\ pad}}
\DoxyCodeLine{00548\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ pad\_len;\ ++i)\ putch('0');}}
\DoxyCodeLine{00549\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ pad\_len;\ ++i)\ putch('\ ');}}
\DoxyCodeLine{00551\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ prefix\_len;\ ++i)\ putch(prefix[i]);}}
\DoxyCodeLine{00552\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00553\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00554\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ //\ left\ adjust:\ prefix\ first}}
\DoxyCodeLine{00555\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ prefix\_len;\ ++i)\ putch(prefix[i]);}}
\DoxyCodeLine{00556\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00557\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00558\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ precision\ zeros}}
\DoxyCodeLine{00559\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ prec\_pad;\ ++i)\ putch('0');}}
\DoxyCodeLine{00560\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00561\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ digits}}
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ nlen;\ ++i)\ putch(numbuf[i]);}}
\DoxyCodeLine{00563\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00564\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (left\_adj)\ \{}}
\DoxyCodeLine{00565\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ pad\_len;\ ++i)\ putch('\ ');}}
\DoxyCodeLine{00566\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00567\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00569\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ //\ floating\ point\ formatting:\ limited,\ small-\/footprint\ implementation}}
\DoxyCodeLine{00570\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ //\ supports\ fixed\ notation\ \%f\ with\ precision\ up\ to,\ say,\ 9\ safely}}
\DoxyCodeLine{00571\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ auto\ format\_float\ =\ [\&](long\ double\ val,\ int\ width,\ int\ precision,}}
\DoxyCodeLine{00572\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ left\_adj,\ char\ pad,\ bool\ show\_sign,\ bool\ space\_sign)\ \{}}
\DoxyCodeLine{00573\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (std::isnan((double)val))\ \{}}
\DoxyCodeLine{00574\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ const\ char*\ s\ =\ "{}nan"{};}}
\DoxyCodeLine{00575\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (show\_sign)\ putch('+');}}
\DoxyCodeLine{00576\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (space\_sign)\ putch('\ ');}}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ puts\_lit(s);}}
\DoxyCodeLine{00578\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ return;}}
\DoxyCodeLine{00579\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00580\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (std::isinf((double)val))\ \{}}
\DoxyCodeLine{00581\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (val\ <\ 0)\ putch('-\/');}}
\DoxyCodeLine{00582\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (show\_sign)\ putch('+');}}
\DoxyCodeLine{00583\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (space\_sign)\ putch('\ ');}}
\DoxyCodeLine{00584\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ const\ char*\ s\ =\ "{}inf"{};}}
\DoxyCodeLine{00585\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ puts\_lit(s);}}
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ return;}}
\DoxyCodeLine{00587\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00588\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00589\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ bool\ negative\ =\ (val\ <\ 0.0L);}}
\DoxyCodeLine{00590\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (negative)\ val\ =\ -\/val;}}
\DoxyCodeLine{00591\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00592\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (precision\ <\ 0)\ precision\ =\ 6;\ //\ default}}
\DoxyCodeLine{00593\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (precision\ >\ 9)\ precision\ =\ 9;\ //\ cap\ to\ reasonable\ amount\ to\ avoid\ huge\ loops}}
\DoxyCodeLine{00594\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00595\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ split\ integer\ and\ fractional}}
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ unsigned\ long\ long\ int\_part\ =\ (unsigned\ long\ long)val;}}
\DoxyCodeLine{00597\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ long\ double\ frac\ =\ val\ -\/\ (long\ double)int\_part;}}
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00599\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ fractional\ rounding}}
\DoxyCodeLine{00600\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ long\ double\ mult\ =\ 1.0L;}}
\DoxyCodeLine{00601\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ precision;\ ++i)\ mult\ *=\ 10.0L;}}
\DoxyCodeLine{00602\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ long\ double\ frac\_scaled\ =\ frac\ *\ mult\ +\ 0.5L;\ //\ round}}
\DoxyCodeLine{00603\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ unsigned\ long\ long\ frac\_int\ =\ (unsigned\ long\ long)(frac\_scaled);}}
\DoxyCodeLine{00604\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00605\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ handle\ carry\ from\ rounding\ (e.g.,\ .999\ -\/>\ carry)}}
\DoxyCodeLine{00606\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (frac\_int\ >=\ (unsigned\ long\ long)mult)\ \{}}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ frac\_int\ =\ 0;}}
\DoxyCodeLine{00608\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++int\_part;}}
\DoxyCodeLine{00609\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00610\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00611\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ convert\ int\_part}}
\DoxyCodeLine{00612\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ intbuf[32];}}
\DoxyCodeLine{00613\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ intlen\ =\ 0;}}
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \{}}
\DoxyCodeLine{00615\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ //\ reuse\ uint\_to\_str}}
\DoxyCodeLine{00616\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ intlen\ =\ uint\_to\_str(int\_part,\ 10,\ false,\ intbuf,\ sizeof(intbuf));}}
\DoxyCodeLine{00617\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00618\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00619\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ fractional\ digits}}
\DoxyCodeLine{00620\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ fracbuf[16];}}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ size\_t\ fraclen\ =\ 0;}}
\DoxyCodeLine{00622\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (precision\ >\ 0)\ \{}}
\DoxyCodeLine{00623\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ //\ produce\ digits\ with\ leading\ zeros}}
\DoxyCodeLine{00624\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ //\ write\ into\ buffer\ in\ reverse\ then\ reverse}}
\DoxyCodeLine{00625\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ char\ tmp[16];}}
\DoxyCodeLine{00626\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ ti\ =\ 0;}}
\DoxyCodeLine{00627\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (frac\_int\ ==\ 0)\ \{}}
\DoxyCodeLine{00628\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ precision;\ ++i)\ tmp[ti++]\ =\ '0';}}
\DoxyCodeLine{00629\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00630\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ long\ t\ =\ frac\_int;}}
\DoxyCodeLine{00631\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ while\ (t\ \&\&\ ti\ <\ (size\_t)precision)\ \{}}
\DoxyCodeLine{00632\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tmp[ti++]\ =\ '0'\ +\ (t\ \%\ 10ULL);}}
\DoxyCodeLine{00633\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ t\ /=\ 10ULL;}}
\DoxyCodeLine{00634\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00635\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ while\ ((int)ti\ <\ precision)\ tmp[ti++]\ =\ '0';}}
\DoxyCodeLine{00636\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00637\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ //\ reverse\ into\ fracbuf}}
\DoxyCodeLine{00638\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ (size\_t)precision\ \&\&\ i\ <\ sizeof(fracbuf)-\/1;\ ++i)\ \{}}
\DoxyCodeLine{00639\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fracbuf[i]\ =\ tmp[precision\ -\/\ 1\ -\/\ i];}}
\DoxyCodeLine{00640\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00641\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ fraclen\ =\ precision;}}
\DoxyCodeLine{00642\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ fracbuf[fraclen]\ =\ '\(\backslash\)0';}}
\DoxyCodeLine{00643\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00644\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ fraclen\ =\ 0;}}
\DoxyCodeLine{00645\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ fracbuf[0]\ =\ '\(\backslash\)0';}}
\DoxyCodeLine{00646\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00647\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00648\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ compute\ total\ length\ to\ handle\ width/padding}}
\DoxyCodeLine{00649\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ totlen\ =\ 0;}}
\DoxyCodeLine{00650\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (negative\ ||\ show\_sign\ ||\ space\_sign)\ totlen\ +=\ 1;}}
\DoxyCodeLine{00651\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ totlen\ +=\ (int)intlen;}}
\DoxyCodeLine{00652\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (precision\ >\ 0)\ totlen\ +=\ 1\ +\ (int)fraclen;\ //\ '.'\ +\ fractional}}
\DoxyCodeLine{00653\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00654\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ pad\_len\ =\ 0;}}
\DoxyCodeLine{00655\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (width\ >\ totlen)\ pad\_len\ =\ width\ -\/\ totlen;}}
\DoxyCodeLine{00656\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00657\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (!left\_adj)\ \{}}
\DoxyCodeLine{00658\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (pad\ ==\ '0')\ \{}}
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (negative)\ putch('-\/');}}
\DoxyCodeLine{00660\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (show\_sign)\ putch('+');}}
\DoxyCodeLine{00661\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (space\_sign)\ putch('\ ');}}
\DoxyCodeLine{00662\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ pad\_len;\ ++i)\ putch('0');}}
\DoxyCodeLine{00663\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00664\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ pad\_len;\ ++i)\ putch('\ ');}}
\DoxyCodeLine{00665\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (negative)\ putch('-\/');}}
\DoxyCodeLine{00666\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (show\_sign)\ putch('+');}}
\DoxyCodeLine{00667\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (space\_sign)\ putch('\ ');}}
\DoxyCodeLine{00668\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00669\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00670\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (negative)\ putch('-\/');}}
\DoxyCodeLine{00671\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (show\_sign)\ putch('+');}}
\DoxyCodeLine{00672\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (space\_sign)\ putch('\ ');}}
\DoxyCodeLine{00673\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00674\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00675\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ integer\ part}}
\DoxyCodeLine{00676\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ intlen;\ ++i)\ putch(intbuf[i]);}}
\DoxyCodeLine{00677\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00678\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ fractional}}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (precision\ >\ 0)\ \{}}
\DoxyCodeLine{00680\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch('.');}}
\DoxyCodeLine{00681\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ fraclen;\ ++i)\ putch(fracbuf[i]);}}
\DoxyCodeLine{00682\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00683\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (left\_adj)\ \{}}
\DoxyCodeLine{00685\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ pad\_len;\ ++i)\ putch('\ ');}}
\DoxyCodeLine{00686\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00688\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ //\ MAIN\ parse\ loop}}
\DoxyCodeLine{00690\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ const\ char*\ p\ =\ fmt;}}
\DoxyCodeLine{00691\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ while\ (*p)\ \{}}
\DoxyCodeLine{00692\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*p\ !=\ '\%')\ \{}}
\DoxyCodeLine{00693\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch(*p++);}}
\DoxyCodeLine{00694\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ continue;}}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00696\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ ++p;\ //\ skip\ '\%'}}
\DoxyCodeLine{00697\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*p\ ==\ '\%')\ \{}}
\DoxyCodeLine{00698\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ putch('\%');}}
\DoxyCodeLine{00699\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ continue;}}
\DoxyCodeLine{00701\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00702\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00703\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ parse\ flags}}
\DoxyCodeLine{00704\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ bool\ left\_adj\ =\ false;}}
\DoxyCodeLine{00705\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ bool\ show\_sign\ =\ false;}}
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ bool\ space\_sign\ =\ false;}}
\DoxyCodeLine{00707\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ bool\ alt\ =\ false;}}
\DoxyCodeLine{00708\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ pad\ =\ '\ ';}}
\DoxyCodeLine{00709\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00710\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ bool\ flags\_parsed\ =\ true;}}
\DoxyCodeLine{00711\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ while\ (flags\_parsed)\ \{}}
\DoxyCodeLine{00712\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ switch\ (*p)\ \{}}
\DoxyCodeLine{00713\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ '-\/':\ left\_adj\ =\ true;\ ++p;\ break;}}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ '+':\ show\_sign\ =\ true;\ ++p;\ break;}}
\DoxyCodeLine{00715\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ '\ ':\ space\_sign\ =\ true;\ ++p;\ break;}}
\DoxyCodeLine{00716\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ '\#':\ alt\ =\ true;\ ++p;\ break;}}
\DoxyCodeLine{00717\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ case\ '0':\ if\ (!left\_adj)\ pad\ =\ '0';\ ++p;\ break;}}
\DoxyCodeLine{00718\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ default:\ flags\_parsed\ =\ false;\ break;}}
\DoxyCodeLine{00719\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00721\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ width}}
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ width\ =\ 0;}}
\DoxyCodeLine{00724\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*p\ ==\ '*')\ \{}}
\DoxyCodeLine{00725\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00726\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ width\ =\ va\_arg(args,\ int);}}
\DoxyCodeLine{00727\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (width\ <\ 0)\ \{\ left\_adj\ =\ true;\ width\ =\ -\/width;\ \}}}
\DoxyCodeLine{00728\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00729\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ while\ (*p\ >=\ '0'\ \&\&\ *p\ <=\ '9')\ \{}}
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ width\ =\ width\ *\ 10\ +\ (*p\ -\/\ '0');}}
\DoxyCodeLine{00731\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00735\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ precision}}
\DoxyCodeLine{00736\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ precision\ =\ -\/1;}}
\DoxyCodeLine{00737\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*p\ ==\ '.')\ \{}}
\DoxyCodeLine{00738\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00739\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ 0;}}
\DoxyCodeLine{00740\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (*p\ ==\ '*')\ \{}}
\DoxyCodeLine{00741\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00742\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ va\_arg(args,\ int);}}
\DoxyCodeLine{00743\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (precision\ <\ 0)\ precision\ =\ -\/1;\ //\ negative\ precision\ treated\ as\ unspecified}}
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00745\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ while\ (*p\ >=\ '0'\ \&\&\ *p\ <=\ '9')\ \{}}
\DoxyCodeLine{00746\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ precision\ =\ precision\ *\ 10\ +\ (*p\ -\/\ '0');}}
\DoxyCodeLine{00747\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00748\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00749\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00750\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00751\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00752\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ length\ modifier}}
\DoxyCodeLine{00753\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ int\ length\ =\ 0;\ //\ 0=default,\ 1='l',\ 2='ll',\ -\/1='h',\ -\/2='hh'\ (we\ only\ use\ l/ll\ here)}}
\DoxyCodeLine{00754\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ if\ (*p\ ==\ 'h')\ \{}}
\DoxyCodeLine{00755\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00756\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (*p\ ==\ 'h')\ \{\ ++p;\ length\ =\ -\/2;\ \}\ else\ length\ =\ -\/1;}}
\DoxyCodeLine{00757\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ if\ (*p\ ==\ 'l')\ \{}}
\DoxyCodeLine{00758\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ ++p;}}
\DoxyCodeLine{00759\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ if\ (*p\ ==\ 'l')\ \{\ ++p;\ length\ =\ 2;\ \}\ else\ length\ =\ 1;}}
\DoxyCodeLine{00760\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}\ else\ if\ (*p\ ==\ 'z')\ \{\ ++p;\ /*size\_t\ -\/\ treat\ as\ default*/\ \}}}
\DoxyCodeLine{00761\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ //\ conversion\ specifier}}
\DoxyCodeLine{00762\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ char\ spec\ =\ *p\ ?\ *p++\ :\ '\(\backslash\)0';}}
\DoxyCodeLine{00763\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00764\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ switch\ (spec)\ \{}}
\DoxyCodeLine{00765\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'd':}}
\DoxyCodeLine{00766\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'i':\ \{}}
\DoxyCodeLine{00767\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ signed\ decimal}}
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ long\ long\ v\ =\ 0;}}
\DoxyCodeLine{00769\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (length\ ==\ 2)\ v\ =\ va\_arg(args,\ long\ long);}}
\DoxyCodeLine{00770\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (length\ ==\ 1)\ v\ =\ va\_arg(args,\ long);}}
\DoxyCodeLine{00771\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ v\ =\ va\_arg(args,\ int);}}
\DoxyCodeLine{00772\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ neg\ =\ v\ <\ 0;}}
\DoxyCodeLine{00773\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ long\ uv\ =\ neg\ ?\ (unsigned\ long\ long)(-\/v)\ :\ (unsigned\ long\ long)v;}}
\DoxyCodeLine{00774\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(v,\ uv,\ true,\ neg,\ 10,\ false,\ width,\ precision,\ left\_adj,\ pad,\ show\_sign,\ space\_sign,\ false);}}
\DoxyCodeLine{00775\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00776\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00777\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'u':\ \{}}
\DoxyCodeLine{00778\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ long\ v\ =\ 0;}}
\DoxyCodeLine{00779\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (length\ ==\ 2)\ v\ =\ va\_arg(args,\ unsigned\ long\ long);}}
\DoxyCodeLine{00780\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (length\ ==\ 1)\ v\ =\ va\_arg(args,\ unsigned\ long);}}
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ v\ =\ va\_arg(args,\ unsigned\ int);}}
\DoxyCodeLine{00782\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(0,\ v,\ false,\ false,\ 10,\ false,\ width,\ precision,\ left\_adj,\ pad,\ false,\ false,\ false);}}
\DoxyCodeLine{00783\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00784\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00785\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'o':\ \{}}
\DoxyCodeLine{00786\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ long\ v\ =\ 0;}}
\DoxyCodeLine{00787\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (length\ ==\ 2)\ v\ =\ va\_arg(args,\ unsigned\ long\ long);}}
\DoxyCodeLine{00788\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (length\ ==\ 1)\ v\ =\ va\_arg(args,\ unsigned\ long);}}
\DoxyCodeLine{00789\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ v\ =\ va\_arg(args,\ unsigned\ int);}}
\DoxyCodeLine{00790\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(0,\ v,\ false,\ false,\ 8,\ false,\ width,\ precision,\ left\_adj,\ pad,\ false,\ false,\ alt);}}
\DoxyCodeLine{00791\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00792\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00793\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'x':}}
\DoxyCodeLine{00794\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'X':\ \{}}
\DoxyCodeLine{00795\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bool\ upper\ =\ (spec\ ==\ 'X');}}
\DoxyCodeLine{00796\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ long\ v\ =\ 0;}}
\DoxyCodeLine{00797\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (length\ ==\ 2)\ v\ =\ va\_arg(args,\ unsigned\ long\ long);}}
\DoxyCodeLine{00798\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ if\ (length\ ==\ 1)\ v\ =\ va\_arg(args,\ unsigned\ long);}}
\DoxyCodeLine{00799\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ v\ =\ va\_arg(args,\ unsigned\ int);}}
\DoxyCodeLine{00800\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_integer(0,\ v,\ false,\ false,\ 16,\ upper,\ width,\ precision,\ left\_adj,\ pad,\ false,\ false,\ alt);}}
\DoxyCodeLine{00801\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00802\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00803\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'c':\ \{}}
\DoxyCodeLine{00804\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ int\ ch\ =\ va\_arg(args,\ int);}}
\DoxyCodeLine{00805\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ char\ c\ =\ (char)ch;}}
\DoxyCodeLine{00806\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (!left\_adj)\ \{}}
\DoxyCodeLine{00807\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 1;\ i\ <\ width;\ ++i)\ putch(pad);}}
\DoxyCodeLine{00808\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(c);}}
\DoxyCodeLine{00809\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00810\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch(c);}}
\DoxyCodeLine{00811\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ 1;\ i\ <\ width;\ ++i)\ putch('\ ');}}
\DoxyCodeLine{00812\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00813\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00814\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00815\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 's':\ \{}}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ const\ char*\ s\ =\ va\_arg(args,\ const\ char*);}}
\DoxyCodeLine{00817\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (!s)\ s\ =\ "{}(null)"{};}}
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ slen\ =\ strlen(s);}}
\DoxyCodeLine{00819\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (precision\ >=\ 0\ \&\&\ (size\_t)precision\ <\ slen)\ slen\ =\ precision;}}
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (!left\_adj)\ \{}}
\DoxyCodeLine{00821\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ (int)slen;\ i\ <\ width;\ ++i)\ putch(pad);}}
\DoxyCodeLine{00822\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ slen;\ ++i)\ putch(s[i]);}}
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00824\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ slen;\ ++i)\ putch(s[i]);}}
\DoxyCodeLine{00825\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (int\ i\ =\ (int)slen;\ i\ <\ width;\ ++i)\ putch('\ ');}}
\DoxyCodeLine{00826\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00827\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00829\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'p':\ \{}}
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ void*\ ptr\ =\ va\_arg(args,\ void*);}}
\DoxyCodeLine{00831\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ unsigned\ long\ long\ v\ =\ (uintptr\_t)ptr;}}
\DoxyCodeLine{00832\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ platform\ pointer\ width\ handling:\ print\ as\ hex\ with\ 0x}}
\DoxyCodeLine{00833\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ char\ tmp[32];}}
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ size\_t\ len\ =\ uint\_to\_str(v,\ 16,\ false,\ tmp,\ sizeof(tmp));}}
\DoxyCodeLine{00835\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ puts\_lit("{}0x"{});}}
\DoxyCodeLine{00836\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (size\_t\ i\ =\ 0;\ i\ <\ len;\ ++i)\ putch(tmp[i]);}}
\DoxyCodeLine{00837\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00838\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00839\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ 'f':\ \{}}
\DoxyCodeLine{00840\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ long\ double\ fv;}}
\DoxyCodeLine{00841\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ float\ promotions:\ float-\/>double\ in\ varargs}}
\DoxyCodeLine{00842\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (length\ ==\ 1\ ||\ length\ ==\ 2)\ \{}}
\DoxyCodeLine{00843\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ length\ 'l'\ /\ 'll'\ for\ floats\ isn't\ meaningful;\ treat\ as\ double}}
\DoxyCodeLine{00844\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fv\ =\ va\_arg(args,\ double);}}
\DoxyCodeLine{00845\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ else\ \{}}
\DoxyCodeLine{00846\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fv\ =\ va\_arg(args,\ double);}}
\DoxyCodeLine{00847\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00848\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ format\_float(fv,\ width,\ precision,\ left\_adj,\ pad,\ show\_sign,\ space\_sign);}}
\DoxyCodeLine{00849\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00851\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ case\ '\%':\ \{}}
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch('\%');}}
\DoxyCodeLine{00853\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00854\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00855\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ default:\ \{}}
\DoxyCodeLine{00856\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ unknown\ specifier:\ output\ it\ verbatim\ (like\ printf)}}
\DoxyCodeLine{00857\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ putch('\%');}}
\DoxyCodeLine{00858\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (spec)\ putch(spec);}}
\DoxyCodeLine{00859\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ break;}}
\DoxyCodeLine{00860\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00861\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{00862\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \}\ //\ end\ while}}
\DoxyCodeLine{00863\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00864\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ //\ flush\ remaining\ buffer}}
\DoxyCodeLine{00865\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ if\ (bi\ >\ 0)\ write(buf,\ bi);}}
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{comment}{//\ \}}}
\DoxyCodeLine{00867\ \};}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ PLATFORMIO\_NULI\_AVIONICS\_FLIGHT\_SOFTWARE\_DEBUGSTREAM\_H}}

\end{DoxyCode}
