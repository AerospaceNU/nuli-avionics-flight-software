\doxysection{General\+Matrix\+Vector.\+h}
\hypertarget{GeneralMatrixVector_8h_source}{}\label{GeneralMatrixVector_8h_source}\index{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/include/Eigen/src/Core/products/GeneralMatrixVector.h@{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/include/Eigen/src/Core/products/GeneralMatrixVector.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2008-\/2016\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_GENERAL\_MATRIX\_VECTOR\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_GENERAL\_MATRIX\_VECTOR\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{enum}\ GEMVPacketSizeType\ \{}
\DoxyCodeLine{00018\ \ \ GEMVPacketFull\ =\ 0,}
\DoxyCodeLine{00019\ \ \ GEMVPacketHalf,}
\DoxyCodeLine{00020\ \ \ GEMVPacketQuarter}
\DoxyCodeLine{00021\ \};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{int}\ N,\ \textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2,\ \textcolor{keyword}{typename}\ T3>}
\DoxyCodeLine{00024\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1gemv__packet__cond}{gemv\_packet\_cond}}\ \{\ \textcolor{keyword}{typedef}\ T3\ type;\ \};}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2,\ \textcolor{keyword}{typename}\ T3>}
\DoxyCodeLine{00027\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1gemv__packet__cond}{gemv\_packet\_cond}}<GEMVPacketFull,\ T1,\ T2,\ T3>\ \{\ \textcolor{keyword}{typedef}\ T1\ type;\ \};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2,\ \textcolor{keyword}{typename}\ T3>}
\DoxyCodeLine{00030\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1gemv__packet__cond}{gemv\_packet\_cond}}<GEMVPacketHalf,\ T1,\ T2,\ T3>\ \{\ \textcolor{keyword}{typedef}\ T2\ type;\ \};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ LhsScalar,\ \textcolor{keyword}{typename}\ RhsScalar,\ \textcolor{keywordtype}{int}\ \_PacketSize=GEMVPacketFull>}
\DoxyCodeLine{00033\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1internal_1_1gemv__traits}{gemv\_traits}}}
\DoxyCodeLine{00034\ \{}
\DoxyCodeLine{00035\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1ScalarBinaryOpTraits}{ScalarBinaryOpTraits<LhsScalar,\ RhsScalar>::ReturnType}}\ ResScalar;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#define\ PACKET\_DECL\_COND\_PREFIX(prefix,\ name,\ packet\_size)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\ \ typedef\ typename\ gemv\_packet\_cond<packet\_size,\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typename\ packet\_traits<name\ \#\#\ Scalar>::type,\ \(\backslash\)}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typename\ packet\_traits<name\ \#\#\ Scalar>::half,\ \(\backslash\)}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typename\ unpacket\_traits<typename\ packet\_traits<name\ \#\#\ Scalar>::half>::half>::type\ \(\backslash\)}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\ \ prefix\ \#\#\ name\ \#\#\ Packet}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ PACKET\_DECL\_COND\_PREFIX(\_,\ Lhs,\ \_PacketSize);}
\DoxyCodeLine{00045\ \ \ PACKET\_DECL\_COND\_PREFIX(\_,\ Rhs,\ \_PacketSize);}
\DoxyCodeLine{00046\ \ \ PACKET\_DECL\_COND\_PREFIX(\_,\ Res,\ \_PacketSize);}
\DoxyCodeLine{00047\ \textcolor{preprocessor}{\#undef\ PACKET\_DECL\_COND\_PREFIX}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ Vectorizable\ =\ unpacket\_traits<\_LhsPacket>::vectorizable\ \&\&}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ unpacket\_traits<\_RhsPacket>::vectorizable\ \&\&}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ int(unpacket\_traits<\_LhsPacket>::size)==int(unpacket\_traits<\_RhsPacket>::size),}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ LhsPacketSize\ =\ Vectorizable\ ?\ unpacket\_traits<\_LhsPacket>::size\ :\ 1,}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ RhsPacketSize\ =\ Vectorizable\ ?\ unpacket\_traits<\_RhsPacket>::size\ :\ 1,}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ ResPacketSize\ =\ Vectorizable\ ?\ unpacket\_traits<\_ResPacket>::size\ :\ 1}
\DoxyCodeLine{00057\ \ \ \};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ conditional<Vectorizable,\_LhsPacket,LhsScalar>::type\ LhsPacket;}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ conditional<Vectorizable,\_RhsPacket,RhsScalar>::type\ RhsPacket;}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ conditional<Vectorizable,\_ResPacket,ResScalar>::type\ ResPacket;}
\DoxyCodeLine{00062\ \};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{comment}{/*\ Optimized\ col-\/major\ matrix\ *\ vector\ product:}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ *\ This\ algorithm\ processes\ the\ matrix\ per\ vertical\ panels,}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ *\ which\ are\ then\ processed\ horizontaly\ per\ chunck\ of\ 8*PacketSize\ x\ 1\ vertical\ segments.}}
\DoxyCodeLine{00068\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ *\ Mixing\ type\ logic:\ C\ +=\ alpha\ *\ A\ *\ B}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ *\ \ |\ \ A\ \ |\ \ B\ \ |alpha|\ comments}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ *\ \ |real\ |cplx\ |cplx\ |\ no\ vectorization}}
\DoxyCodeLine{00072\ \textcolor{comment}{\ *\ \ |real\ |cplx\ |real\ |\ alpha\ is\ converted\ to\ a\ cplx\ when\ calling\ the\ run\ function,\ no\ vectorization}}
\DoxyCodeLine{00073\ \textcolor{comment}{\ *\ \ |cplx\ |real\ |cplx\ |\ invalid,\ the\ caller\ has\ to\ do\ tmp:\ =\ A\ *\ B;\ C\ +=\ alpha*tmp}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ *\ \ |cplx\ |real\ |real\ |\ optimal\ case,\ vectorization\ possible\ via\ real-\/cplx\ mul}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ *\ The\ same\ reasoning\ apply\ for\ the\ transposed\ case.}}
\DoxyCodeLine{00077\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00078\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Index,\ \textcolor{keyword}{typename}\ LhsScalar,\ \textcolor{keyword}{typename}\ LhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateLhs,\ \textcolor{keyword}{typename}\ RhsScalar,\ \textcolor{keyword}{typename}\ RhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateRhs,\ \textcolor{keywordtype}{int}\ Version>}
\DoxyCodeLine{00079\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1general__matrix__vector__product}{general\_matrix\_vector\_product}}<\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},LhsScalar,LhsMapper,\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}},ConjugateLhs,RhsScalar,RhsMapper,ConjugateRhs,Version>}
\DoxyCodeLine{00080\ \{}
\DoxyCodeLine{00081\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1gemv__traits}{gemv\_traits<LhsScalar,RhsScalar>}}\ Traits;}
\DoxyCodeLine{00082\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1gemv__traits}{gemv\_traits<LhsScalar,RhsScalar,GEMVPacketHalf>}}\ HalfTraits;}
\DoxyCodeLine{00083\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1gemv__traits}{gemv\_traits<LhsScalar,RhsScalar,GEMVPacketQuarter>}}\ QuarterTraits;}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1ScalarBinaryOpTraits}{ScalarBinaryOpTraits<LhsScalar,\ RhsScalar>::ReturnType}}\ ResScalar;}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Traits::LhsPacket\ LhsPacket;}
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Traits::RhsPacket\ RhsPacket;}
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Traits::ResPacket\ ResPacket;}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ HalfTraits::LhsPacket\ LhsPacketHalf;}
\DoxyCodeLine{00092\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ HalfTraits::RhsPacket\ RhsPacketHalf;}
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ HalfTraits::ResPacket\ ResPacketHalf;}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ QuarterTraits::LhsPacket\ LhsPacketQuarter;}
\DoxyCodeLine{00096\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ QuarterTraits::RhsPacket\ RhsPacketQuarter;}
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ QuarterTraits::ResPacket\ ResPacketQuarter;}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ EIGEN\_DEVICE\_FUNC\ EIGEN\_DONT\_INLINE\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ run(}
\DoxyCodeLine{00100\ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rows,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ cols,}
\DoxyCodeLine{00101\ \ \ \textcolor{keyword}{const}\ LhsMapper\&\ lhs,}
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{const}\ RhsMapper\&\ rhs,}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ ResScalar*\ res,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ resIncr,}
\DoxyCodeLine{00104\ \ \ RhsScalar\ alpha);}
\DoxyCodeLine{00105\ \};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Index,\ \textcolor{keyword}{typename}\ LhsScalar,\ \textcolor{keyword}{typename}\ LhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateLhs,\ \textcolor{keyword}{typename}\ RhsScalar,\ \textcolor{keyword}{typename}\ RhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateRhs,\ \textcolor{keywordtype}{int}\ Version>}
\DoxyCodeLine{00108\ EIGEN\_DEVICE\_FUNC\ EIGEN\_DONT\_INLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1internal_1_1general__matrix__vector__product}{general\_matrix\_vector\_product<Index,LhsScalar,LhsMapper,ColMajor,ConjugateLhs,RhsScalar,RhsMapper,ConjugateRhs,Version>::run}}(}
\DoxyCodeLine{00109\ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rows,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ cols,}
\DoxyCodeLine{00110\ \ \ \textcolor{keyword}{const}\ LhsMapper\&\ alhs,}
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{const}\ RhsMapper\&\ rhs,}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ ResScalar*\ res,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ resIncr,}
\DoxyCodeLine{00113\ \ \ RhsScalar\ alpha)}
\DoxyCodeLine{00114\ \{}
\DoxyCodeLine{00115\ \ \ EIGEN\_UNUSED\_VARIABLE(resIncr);}
\DoxyCodeLine{00116\ \ \ eigen\_internal\_assert(resIncr==1);}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \textcolor{comment}{//\ The\ following\ copy\ tells\ the\ compiler\ that\ lhs's\ attributes\ are\ not\ modified\ outside\ this\ function}}
\DoxyCodeLine{00119\ \ \ \textcolor{comment}{//\ This\ helps\ GCC\ to\ generate\ propoer\ code.}}
\DoxyCodeLine{00120\ \ \ LhsMapper\ lhs(alhs);}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsScalar,RhsScalar,ConjugateLhs,ConjugateRhs>}}\ cj;}
\DoxyCodeLine{00123\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsPacket,RhsPacket,ConjugateLhs,ConjugateRhs>}}\ pcj;}
\DoxyCodeLine{00124\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsPacketHalf,RhsPacketHalf,ConjugateLhs,ConjugateRhs>}}\ pcj\_half;}
\DoxyCodeLine{00125\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsPacketQuarter,RhsPacketQuarter,ConjugateLhs,ConjugateRhs>}}\ pcj\_quarter;}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ lhsStride\ =\ lhs.stride();}
\DoxyCodeLine{00128\ \ \ \textcolor{comment}{//\ TODO:\ for\ padded\ aligned\ inputs,\ we\ could\ enable\ aligned\ reads}}
\DoxyCodeLine{00129\ \ \ \textcolor{keyword}{enum}\ \{\ LhsAlignment\ =\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1a4e19dd09d5ff42295ba1d72d12a46686}{Unaligned}},}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ ResPacketSize\ =\ Traits::ResPacketSize,}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ ResPacketSizeHalf\ =\ HalfTraits::ResPacketSize,}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ ResPacketSizeQuarter\ =\ QuarterTraits::ResPacketSize,}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ LhsPacketSize\ =\ Traits::LhsPacketSize,}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ HasHalf\ =\ (int)ResPacketSizeHalf\ <\ (\textcolor{keywordtype}{int})ResPacketSize,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ HasQuarter\ =\ (int)ResPacketSizeQuarter\ <\ (\textcolor{keywordtype}{int})ResPacketSizeHalf}
\DoxyCodeLine{00136\ \ \ \};}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n8\ =\ rows-\/8*ResPacketSize+1;}
\DoxyCodeLine{00139\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n4\ =\ rows-\/4*ResPacketSize+1;}
\DoxyCodeLine{00140\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n3\ =\ rows-\/3*ResPacketSize+1;}
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n2\ =\ rows-\/2*ResPacketSize+1;}
\DoxyCodeLine{00142\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n1\ =\ rows-\/1*ResPacketSize+1;}
\DoxyCodeLine{00143\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n\_half\ =\ rows-\/1*ResPacketSizeHalf+1;}
\DoxyCodeLine{00144\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n\_quarter\ =\ rows-\/1*ResPacketSizeQuarter+1;}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{comment}{//\ TODO:\ improve\ the\ following\ heuristic:}}
\DoxyCodeLine{00147\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ block\_cols\ =\ cols<128\ ?\ cols\ :\ (lhsStride*\textcolor{keyword}{sizeof}(LhsScalar)<32000?16:4);}
\DoxyCodeLine{00148\ \ \ ResPacket\ palpha\ =\ pset1<ResPacket>(alpha);}
\DoxyCodeLine{00149\ \ \ ResPacketHalf\ palpha\_half\ =\ pset1<ResPacketHalf>(alpha);}
\DoxyCodeLine{00150\ \ \ ResPacketQuarter\ palpha\_quarter\ =\ pset1<ResPacketQuarter>(alpha);}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j2=0;\ j2<cols;\ j2+=block\_cols)}
\DoxyCodeLine{00153\ \ \ \{}
\DoxyCodeLine{00154\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ jend\ =\ numext::mini(j2+block\_cols,cols);}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ i=0;}
\DoxyCodeLine{00156\ \ \ \ \ \textcolor{keywordflow}{for}(;\ i<n8;\ i+=ResPacketSize*8)}
\DoxyCodeLine{00157\ \ \ \ \ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c1\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c2\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c3\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c4\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c5\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c6\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c7\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ RhsPacket\ b0\ =\ pset1<RhsPacket>(rhs(j,0));}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*0,j),b0,c0);}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ c1\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*1,j),b0,c1);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ c2\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*2,j),b0,c2);}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ c3\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*3,j),b0,c3);}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ c4\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*4,j),b0,c4);}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ c5\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*5,j),b0,c5);}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ c6\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*6,j),b0,c6);}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ c7\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*7,j),b0,c7);}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*0,\ pmadd(c0,palpha,ploadu<ResPacket>(res+i+ResPacketSize*0)));}
\DoxyCodeLine{00180\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*1,\ pmadd(c1,palpha,ploadu<ResPacket>(res+i+ResPacketSize*1)));}
\DoxyCodeLine{00181\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*2,\ pmadd(c2,palpha,ploadu<ResPacket>(res+i+ResPacketSize*2)));}
\DoxyCodeLine{00182\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*3,\ pmadd(c3,palpha,ploadu<ResPacket>(res+i+ResPacketSize*3)));}
\DoxyCodeLine{00183\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*4,\ pmadd(c4,palpha,ploadu<ResPacket>(res+i+ResPacketSize*4)));}
\DoxyCodeLine{00184\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*5,\ pmadd(c5,palpha,ploadu<ResPacket>(res+i+ResPacketSize*5)));}
\DoxyCodeLine{00185\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*6,\ pmadd(c6,palpha,ploadu<ResPacket>(res+i+ResPacketSize*6)));}
\DoxyCodeLine{00186\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*7,\ pmadd(c7,palpha,ploadu<ResPacket>(res+i+ResPacketSize*7)));}
\DoxyCodeLine{00187\ \ \ \ \ \}}
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{if}(i<n4)}
\DoxyCodeLine{00189\ \ \ \ \ \{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c1\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c2\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c3\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ RhsPacket\ b0\ =\ pset1<RhsPacket>(rhs(j,0));}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*0,j),b0,c0);}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ c1\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*1,j),b0,c1);}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ c2\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*2,j),b0,c2);}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ c3\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*3,j),b0,c3);}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00203\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*0,\ pmadd(c0,palpha,ploadu<ResPacket>(res+i+ResPacketSize*0)));}
\DoxyCodeLine{00204\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*1,\ pmadd(c1,palpha,ploadu<ResPacket>(res+i+ResPacketSize*1)));}
\DoxyCodeLine{00205\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*2,\ pmadd(c2,palpha,ploadu<ResPacket>(res+i+ResPacketSize*2)));}
\DoxyCodeLine{00206\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*3,\ pmadd(c3,palpha,ploadu<ResPacket>(res+i+ResPacketSize*3)));}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ i+=ResPacketSize*4;}
\DoxyCodeLine{00209\ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \textcolor{keywordflow}{if}(i<n3)}
\DoxyCodeLine{00211\ \ \ \ \ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c1\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c2\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ RhsPacket\ b0\ =\ pset1<RhsPacket>(rhs(j,0));}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*0,j),b0,c0);}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ c1\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*1,j),b0,c1);}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ c2\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*2,j),b0,c2);}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*0,\ pmadd(c0,palpha,ploadu<ResPacket>(res+i+ResPacketSize*0)));}
\DoxyCodeLine{00224\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*1,\ pmadd(c1,palpha,ploadu<ResPacket>(res+i+ResPacketSize*1)));}
\DoxyCodeLine{00225\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*2,\ pmadd(c2,palpha,ploadu<ResPacket>(res+i+ResPacketSize*2)));}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ \ \ i+=ResPacketSize*3;}
\DoxyCodeLine{00228\ \ \ \ \ \}}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keywordflow}{if}(i<n2)}
\DoxyCodeLine{00230\ \ \ \ \ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c1\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ RhsPacket\ b0\ =\ pset1<RhsPacket>(rhs(j,0));}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*0,j),b0,c0);}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ c1\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+LhsPacketSize*1,j),b0,c1);}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00240\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*0,\ pmadd(c0,palpha,ploadu<ResPacket>(res+i+ResPacketSize*0)));}
\DoxyCodeLine{00241\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*1,\ pmadd(c1,palpha,ploadu<ResPacket>(res+i+ResPacketSize*1)));}
\DoxyCodeLine{00242\ \ \ \ \ \ \ i+=ResPacketSize*2;}
\DoxyCodeLine{00243\ \ \ \ \ \}}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordflow}{if}(i<n1)}
\DoxyCodeLine{00245\ \ \ \ \ \{}
\DoxyCodeLine{00246\ \ \ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ RhsPacket\ b0\ =\ pset1<RhsPacket>(rhs(j,0));}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+0,j),b0,c0);}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00252\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSize*0,\ pmadd(c0,palpha,ploadu<ResPacket>(res+i+ResPacketSize*0)));}
\DoxyCodeLine{00253\ \ \ \ \ \ \ i+=ResPacketSize;}
\DoxyCodeLine{00254\ \ \ \ \ \}}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{if}(HasHalf\ \&\&\ i<n\_half)}
\DoxyCodeLine{00256\ \ \ \ \ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ ResPacketHalf\ c0\ =\ pset1<ResPacketHalf>(ResScalar(0));}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ RhsPacketHalf\ b0\ =\ pset1<RhsPacketHalf>(rhs(j,0));}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ c0\ =\ pcj\_half.pmadd(lhs.template\ load<LhsPacketHalf,LhsAlignment>(i+0,j),b0,c0);}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00263\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSizeHalf*0,\ pmadd(c0,palpha\_half,ploadu<ResPacketHalf>(res+i+ResPacketSizeHalf*0)));}
\DoxyCodeLine{00264\ \ \ \ \ \ \ i+=ResPacketSizeHalf;}
\DoxyCodeLine{00265\ \ \ \ \ \}}
\DoxyCodeLine{00266\ \ \ \ \ \textcolor{keywordflow}{if}(HasQuarter\ \&\&\ i<n\_quarter)}
\DoxyCodeLine{00267\ \ \ \ \ \{}
\DoxyCodeLine{00268\ \ \ \ \ \ \ ResPacketQuarter\ c0\ =\ pset1<ResPacketQuarter>(ResScalar(0));}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ RhsPacketQuarter\ b0\ =\ pset1<RhsPacketQuarter>(rhs(j,0));}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ c0\ =\ pcj\_quarter.pmadd(lhs.template\ load<LhsPacketQuarter,LhsAlignment>(i+0,j),b0,c0);}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ pstoreu(res+i+ResPacketSizeQuarter*0,\ pmadd(c0,palpha\_quarter,ploadu<ResPacketQuarter>(res+i+ResPacketSizeQuarter*0)));}
\DoxyCodeLine{00275\ \ \ \ \ \ \ i+=ResPacketSizeQuarter;}
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keywordflow}{for}(;i<rows;++i)}
\DoxyCodeLine{00278\ \ \ \ \ \{}
\DoxyCodeLine{00279\ \ \ \ \ \ \ ResScalar\ c0(0);}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=j2;\ j<jend;\ j+=1)}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ c0\ +=\ cj.pmul(lhs(i,j),\ rhs(j,0));}
\DoxyCodeLine{00282\ \ \ \ \ \ \ res[i]\ +=\ alpha*c0;}
\DoxyCodeLine{00283\ \ \ \ \ \}}
\DoxyCodeLine{00284\ \ \ \}}
\DoxyCodeLine{00285\ \}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \textcolor{comment}{/*\ Optimized\ row-\/major\ matrix\ *\ vector\ product:}}
\DoxyCodeLine{00288\ \textcolor{comment}{\ *\ This\ algorithm\ processes\ 4\ rows\ at\ once\ that\ allows\ to\ both\ reduce}}
\DoxyCodeLine{00289\ \textcolor{comment}{\ *\ the\ number\ of\ load/stores\ of\ the\ result\ by\ a\ factor\ 4\ and\ to\ reduce}}
\DoxyCodeLine{00290\ \textcolor{comment}{\ *\ the\ instruction\ dependency.\ Moreover,\ we\ know\ that\ all\ bands\ have\ the}}
\DoxyCodeLine{00291\ \textcolor{comment}{\ *\ same\ alignment\ pattern.}}
\DoxyCodeLine{00292\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00293\ \textcolor{comment}{\ *\ Mixing\ type\ logic:}}
\DoxyCodeLine{00294\ \textcolor{comment}{\ *\ \ -\/\ alpha\ is\ always\ a\ complex\ (or\ converted\ to\ a\ complex)}}
\DoxyCodeLine{00295\ \textcolor{comment}{\ *\ \ -\/\ no\ vectorization}}
\DoxyCodeLine{00296\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00297\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Index,\ \textcolor{keyword}{typename}\ LhsScalar,\ \textcolor{keyword}{typename}\ LhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateLhs,\ \textcolor{keyword}{typename}\ RhsScalar,\ \textcolor{keyword}{typename}\ RhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateRhs,\ \textcolor{keywordtype}{int}\ Version>}
\DoxyCodeLine{00298\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1general__matrix__vector__product}{general\_matrix\_vector\_product}}<\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},LhsScalar,LhsMapper,\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}},ConjugateLhs,RhsScalar,RhsMapper,ConjugateRhs,Version>}
\DoxyCodeLine{00299\ \{}
\DoxyCodeLine{00300\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1gemv__traits}{gemv\_traits<LhsScalar,RhsScalar>}}\ Traits;}
\DoxyCodeLine{00301\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1gemv__traits}{gemv\_traits<LhsScalar,RhsScalar,GEMVPacketHalf>}}\ HalfTraits;}
\DoxyCodeLine{00302\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1gemv__traits}{gemv\_traits<LhsScalar,RhsScalar,GEMVPacketQuarter>}}\ QuarterTraits;}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1ScalarBinaryOpTraits}{ScalarBinaryOpTraits<LhsScalar,\ RhsScalar>::ReturnType}}\ ResScalar;}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Traits::LhsPacket\ LhsPacket;}
\DoxyCodeLine{00307\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Traits::RhsPacket\ RhsPacket;}
\DoxyCodeLine{00308\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Traits::ResPacket\ ResPacket;}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ HalfTraits::LhsPacket\ LhsPacketHalf;}
\DoxyCodeLine{00311\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ HalfTraits::RhsPacket\ RhsPacketHalf;}
\DoxyCodeLine{00312\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ HalfTraits::ResPacket\ ResPacketHalf;}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ QuarterTraits::LhsPacket\ LhsPacketQuarter;}
\DoxyCodeLine{00315\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ QuarterTraits::RhsPacket\ RhsPacketQuarter;}
\DoxyCodeLine{00316\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ QuarterTraits::ResPacket\ ResPacketQuarter;}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ EIGEN\_DEVICE\_FUNC\ EIGEN\_DONT\_INLINE\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ run(}
\DoxyCodeLine{00319\ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rows,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ cols,}
\DoxyCodeLine{00320\ \ \ \textcolor{keyword}{const}\ LhsMapper\&\ lhs,}
\DoxyCodeLine{00321\ \ \ \textcolor{keyword}{const}\ RhsMapper\&\ rhs,}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ ResScalar*\ res,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ resIncr,}
\DoxyCodeLine{00323\ \ \ ResScalar\ alpha);}
\DoxyCodeLine{00324\ \};}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Index,\ \textcolor{keyword}{typename}\ LhsScalar,\ \textcolor{keyword}{typename}\ LhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateLhs,\ \textcolor{keyword}{typename}\ RhsScalar,\ \textcolor{keyword}{typename}\ RhsMapper,\ \textcolor{keywordtype}{bool}\ ConjugateRhs,\ \textcolor{keywordtype}{int}\ Version>}
\DoxyCodeLine{00327\ EIGEN\_DEVICE\_FUNC\ EIGEN\_DONT\_INLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1internal_1_1general__matrix__vector__product}{general\_matrix\_vector\_product<Index,LhsScalar,LhsMapper,RowMajor,ConjugateLhs,RhsScalar,RhsMapper,ConjugateRhs,Version>::run}}(}
\DoxyCodeLine{00328\ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rows,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ cols,}
\DoxyCodeLine{00329\ \ \ \textcolor{keyword}{const}\ LhsMapper\&\ alhs,}
\DoxyCodeLine{00330\ \ \ \textcolor{keyword}{const}\ RhsMapper\&\ rhs,}
\DoxyCodeLine{00331\ \ \ ResScalar*\ res,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ resIncr,}
\DoxyCodeLine{00332\ \ \ ResScalar\ alpha)}
\DoxyCodeLine{00333\ \{}
\DoxyCodeLine{00334\ \ \ \textcolor{comment}{//\ The\ following\ copy\ tells\ the\ compiler\ that\ lhs's\ attributes\ are\ not\ modified\ outside\ this\ function}}
\DoxyCodeLine{00335\ \ \ \textcolor{comment}{//\ This\ helps\ GCC\ to\ generate\ propoer\ code.}}
\DoxyCodeLine{00336\ \ \ LhsMapper\ lhs(alhs);}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ eigen\_internal\_assert(rhs.stride()==1);}
\DoxyCodeLine{00339\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsScalar,RhsScalar,ConjugateLhs,ConjugateRhs>}}\ cj;}
\DoxyCodeLine{00340\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsPacket,RhsPacket,ConjugateLhs,ConjugateRhs>}}\ pcj;}
\DoxyCodeLine{00341\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsPacketHalf,RhsPacketHalf,ConjugateLhs,ConjugateRhs>}}\ pcj\_half;}
\DoxyCodeLine{00342\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1conj__helper}{conj\_helper<LhsPacketQuarter,RhsPacketQuarter,ConjugateLhs,ConjugateRhs>}}\ pcj\_quarter;}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \textcolor{comment}{//\ TODO:\ fine\ tune\ the\ following\ heuristic.\ The\ rationale\ is\ that\ if\ the\ matrix\ is\ very\ large,}}
\DoxyCodeLine{00345\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ processing\ 8\ rows\ at\ once\ might\ be\ counter\ productive\ wrt\ cache.}}
\DoxyCodeLine{00346\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n8\ =\ lhs.stride()*\textcolor{keyword}{sizeof}(LhsScalar)>32000\ ?\ 0\ :\ rows-\/7;}
\DoxyCodeLine{00347\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n4\ =\ rows-\/3;}
\DoxyCodeLine{00348\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ n2\ =\ rows-\/1;}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \textcolor{comment}{//\ TODO:\ for\ padded\ aligned\ inputs,\ we\ could\ enable\ aligned\ reads}}
\DoxyCodeLine{00351\ \ \ \textcolor{keyword}{enum}\ \{\ LhsAlignment\ =\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1a4e19dd09d5ff42295ba1d72d12a46686}{Unaligned}},}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ ResPacketSize\ =\ Traits::ResPacketSize,}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ ResPacketSizeHalf\ =\ HalfTraits::ResPacketSize,}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ ResPacketSizeQuarter\ =\ QuarterTraits::ResPacketSize,}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ LhsPacketSize\ =\ Traits::LhsPacketSize,}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ LhsPacketSizeHalf\ =\ HalfTraits::LhsPacketSize,}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ LhsPacketSizeQuarter\ =\ QuarterTraits::LhsPacketSize,}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ HasHalf\ =\ (int)ResPacketSizeHalf\ <\ (\textcolor{keywordtype}{int})ResPacketSize,}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ HasQuarter\ =\ (int)ResPacketSizeQuarter\ <\ (\textcolor{keywordtype}{int})ResPacketSizeHalf}
\DoxyCodeLine{00360\ \ \ \};}
\DoxyCodeLine{00361\ }
\DoxyCodeLine{00362\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ make\_unsigned<Index>::type\ UnsignedIndex;}
\DoxyCodeLine{00363\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ fullColBlockEnd\ =\ LhsPacketSize\ *\ (UnsignedIndex(cols)\ /\ LhsPacketSize);}
\DoxyCodeLine{00364\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ halfColBlockEnd\ =\ LhsPacketSizeHalf\ *\ (UnsignedIndex(cols)\ /\ LhsPacketSizeHalf);}
\DoxyCodeLine{00365\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ quarterColBlockEnd\ =\ LhsPacketSizeQuarter\ *\ (UnsignedIndex(cols)\ /\ LhsPacketSizeQuarter);}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ i=0;}
\DoxyCodeLine{00368\ \ \ \textcolor{keywordflow}{for}(;\ i<n8;\ i+=8)}
\DoxyCodeLine{00369\ \ \ \{}
\DoxyCodeLine{00370\ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c1\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c2\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c3\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c4\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c5\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c6\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c7\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ 0;\ j\ <\ fullColBlockEnd;\ j\ +=\ LhsPacketSize)}
\DoxyCodeLine{00380\ \ \ \ \ \{}
\DoxyCodeLine{00381\ \ \ \ \ \ \ RhsPacket\ b0\ =\ rhs.template\ load<RhsPacket,\ Unaligned>(j,0);}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+0,j),b0,c0);}
\DoxyCodeLine{00384\ \ \ \ \ \ \ c1\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+1,j),b0,c1);}
\DoxyCodeLine{00385\ \ \ \ \ \ \ c2\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+2,j),b0,c2);}
\DoxyCodeLine{00386\ \ \ \ \ \ \ c3\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+3,j),b0,c3);}
\DoxyCodeLine{00387\ \ \ \ \ \ \ c4\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+4,j),b0,c4);}
\DoxyCodeLine{00388\ \ \ \ \ \ \ c5\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+5,j),b0,c5);}
\DoxyCodeLine{00389\ \ \ \ \ \ \ c6\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+6,j),b0,c6);}
\DoxyCodeLine{00390\ \ \ \ \ \ \ c7\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+7,j),b0,c7);}
\DoxyCodeLine{00391\ \ \ \ \ \}}
\DoxyCodeLine{00392\ \ \ \ \ ResScalar\ cc0\ =\ predux(c0);}
\DoxyCodeLine{00393\ \ \ \ \ ResScalar\ cc1\ =\ predux(c1);}
\DoxyCodeLine{00394\ \ \ \ \ ResScalar\ cc2\ =\ predux(c2);}
\DoxyCodeLine{00395\ \ \ \ \ ResScalar\ cc3\ =\ predux(c3);}
\DoxyCodeLine{00396\ \ \ \ \ ResScalar\ cc4\ =\ predux(c4);}
\DoxyCodeLine{00397\ \ \ \ \ ResScalar\ cc5\ =\ predux(c5);}
\DoxyCodeLine{00398\ \ \ \ \ ResScalar\ cc6\ =\ predux(c6);}
\DoxyCodeLine{00399\ \ \ \ \ ResScalar\ cc7\ =\ predux(c7);}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ fullColBlockEnd;\ j\ <\ cols;\ ++j)}
\DoxyCodeLine{00402\ \ \ \ \ \{}
\DoxyCodeLine{00403\ \ \ \ \ \ \ RhsScalar\ b0\ =\ rhs(j,0);}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00405\ \ \ \ \ \ \ cc0\ +=\ cj.pmul(lhs(i+0,j),\ b0);}
\DoxyCodeLine{00406\ \ \ \ \ \ \ cc1\ +=\ cj.pmul(lhs(i+1,j),\ b0);}
\DoxyCodeLine{00407\ \ \ \ \ \ \ cc2\ +=\ cj.pmul(lhs(i+2,j),\ b0);}
\DoxyCodeLine{00408\ \ \ \ \ \ \ cc3\ +=\ cj.pmul(lhs(i+3,j),\ b0);}
\DoxyCodeLine{00409\ \ \ \ \ \ \ cc4\ +=\ cj.pmul(lhs(i+4,j),\ b0);}
\DoxyCodeLine{00410\ \ \ \ \ \ \ cc5\ +=\ cj.pmul(lhs(i+5,j),\ b0);}
\DoxyCodeLine{00411\ \ \ \ \ \ \ cc6\ +=\ cj.pmul(lhs(i+6,j),\ b0);}
\DoxyCodeLine{00412\ \ \ \ \ \ \ cc7\ +=\ cj.pmul(lhs(i+7,j),\ b0);}
\DoxyCodeLine{00413\ \ \ \ \ \}}
\DoxyCodeLine{00414\ \ \ \ \ res[(i+0)*resIncr]\ +=\ alpha*cc0;}
\DoxyCodeLine{00415\ \ \ \ \ res[(i+1)*resIncr]\ +=\ alpha*cc1;}
\DoxyCodeLine{00416\ \ \ \ \ res[(i+2)*resIncr]\ +=\ alpha*cc2;}
\DoxyCodeLine{00417\ \ \ \ \ res[(i+3)*resIncr]\ +=\ alpha*cc3;}
\DoxyCodeLine{00418\ \ \ \ \ res[(i+4)*resIncr]\ +=\ alpha*cc4;}
\DoxyCodeLine{00419\ \ \ \ \ res[(i+5)*resIncr]\ +=\ alpha*cc5;}
\DoxyCodeLine{00420\ \ \ \ \ res[(i+6)*resIncr]\ +=\ alpha*cc6;}
\DoxyCodeLine{00421\ \ \ \ \ res[(i+7)*resIncr]\ +=\ alpha*cc7;}
\DoxyCodeLine{00422\ \ \ \}}
\DoxyCodeLine{00423\ \ \ \textcolor{keywordflow}{for}(;\ i<n4;\ i+=4)}
\DoxyCodeLine{00424\ \ \ \{}
\DoxyCodeLine{00425\ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c1\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c2\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c3\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ 0;\ j\ <\ fullColBlockEnd;\ j\ +=\ LhsPacketSize)}
\DoxyCodeLine{00431\ \ \ \ \ \{}
\DoxyCodeLine{00432\ \ \ \ \ \ \ RhsPacket\ b0\ =\ rhs.template\ load<RhsPacket,\ Unaligned>(j,0);}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+0,j),b0,c0);}
\DoxyCodeLine{00435\ \ \ \ \ \ \ c1\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+1,j),b0,c1);}
\DoxyCodeLine{00436\ \ \ \ \ \ \ c2\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+2,j),b0,c2);}
\DoxyCodeLine{00437\ \ \ \ \ \ \ c3\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+3,j),b0,c3);}
\DoxyCodeLine{00438\ \ \ \ \ \}}
\DoxyCodeLine{00439\ \ \ \ \ ResScalar\ cc0\ =\ predux(c0);}
\DoxyCodeLine{00440\ \ \ \ \ ResScalar\ cc1\ =\ predux(c1);}
\DoxyCodeLine{00441\ \ \ \ \ ResScalar\ cc2\ =\ predux(c2);}
\DoxyCodeLine{00442\ \ \ \ \ ResScalar\ cc3\ =\ predux(c3);}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ fullColBlockEnd;\ j\ <\ cols;\ ++j)}
\DoxyCodeLine{00445\ \ \ \ \ \{}
\DoxyCodeLine{00446\ \ \ \ \ \ \ RhsScalar\ b0\ =\ rhs(j,0);}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ \ \ \ \ cc0\ +=\ cj.pmul(lhs(i+0,j),\ b0);}
\DoxyCodeLine{00449\ \ \ \ \ \ \ cc1\ +=\ cj.pmul(lhs(i+1,j),\ b0);}
\DoxyCodeLine{00450\ \ \ \ \ \ \ cc2\ +=\ cj.pmul(lhs(i+2,j),\ b0);}
\DoxyCodeLine{00451\ \ \ \ \ \ \ cc3\ +=\ cj.pmul(lhs(i+3,j),\ b0);}
\DoxyCodeLine{00452\ \ \ \ \ \}}
\DoxyCodeLine{00453\ \ \ \ \ res[(i+0)*resIncr]\ +=\ alpha*cc0;}
\DoxyCodeLine{00454\ \ \ \ \ res[(i+1)*resIncr]\ +=\ alpha*cc1;}
\DoxyCodeLine{00455\ \ \ \ \ res[(i+2)*resIncr]\ +=\ alpha*cc2;}
\DoxyCodeLine{00456\ \ \ \ \ res[(i+3)*resIncr]\ +=\ alpha*cc3;}
\DoxyCodeLine{00457\ \ \ \}}
\DoxyCodeLine{00458\ \ \ \textcolor{keywordflow}{for}(;\ i<n2;\ i+=2)}
\DoxyCodeLine{00459\ \ \ \{}
\DoxyCodeLine{00460\ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0)),}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c1\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00463\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ 0;\ j\ <\ fullColBlockEnd;\ j\ +=\ LhsPacketSize)}
\DoxyCodeLine{00464\ \ \ \ \ \{}
\DoxyCodeLine{00465\ \ \ \ \ \ \ RhsPacket\ b0\ =\ rhs.template\ load<RhsPacket,\ Unaligned>(j,0);}
\DoxyCodeLine{00466\ }
\DoxyCodeLine{00467\ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+0,j),b0,c0);}
\DoxyCodeLine{00468\ \ \ \ \ \ \ c1\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i+1,j),b0,c1);}
\DoxyCodeLine{00469\ \ \ \ \ \}}
\DoxyCodeLine{00470\ \ \ \ \ ResScalar\ cc0\ =\ predux(c0);}
\DoxyCodeLine{00471\ \ \ \ \ ResScalar\ cc1\ =\ predux(c1);}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ fullColBlockEnd;\ j\ <\ cols;\ ++j)}
\DoxyCodeLine{00474\ \ \ \ \ \{}
\DoxyCodeLine{00475\ \ \ \ \ \ \ RhsScalar\ b0\ =\ rhs(j,0);}
\DoxyCodeLine{00476\ }
\DoxyCodeLine{00477\ \ \ \ \ \ \ cc0\ +=\ cj.pmul(lhs(i+0,j),\ b0);}
\DoxyCodeLine{00478\ \ \ \ \ \ \ cc1\ +=\ cj.pmul(lhs(i+1,j),\ b0);}
\DoxyCodeLine{00479\ \ \ \ \ \}}
\DoxyCodeLine{00480\ \ \ \ \ res[(i+0)*resIncr]\ +=\ alpha*cc0;}
\DoxyCodeLine{00481\ \ \ \ \ res[(i+1)*resIncr]\ +=\ alpha*cc1;}
\DoxyCodeLine{00482\ \ \ \}}
\DoxyCodeLine{00483\ \ \ \textcolor{keywordflow}{for}(;\ i<rows;\ ++i)}
\DoxyCodeLine{00484\ \ \ \{}
\DoxyCodeLine{00485\ \ \ \ \ ResPacket\ c0\ =\ pset1<ResPacket>(ResScalar(0));}
\DoxyCodeLine{00486\ \ \ \ \ ResPacketHalf\ c0\_h\ =\ pset1<ResPacketHalf>(ResScalar(0));}
\DoxyCodeLine{00487\ \ \ \ \ ResPacketQuarter\ c0\_q\ =\ pset1<ResPacketQuarter>(ResScalar(0));}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ 0;\ j\ <\ fullColBlockEnd;\ j\ +=\ LhsPacketSize)}
\DoxyCodeLine{00490\ \ \ \ \ \{}
\DoxyCodeLine{00491\ \ \ \ \ \ \ RhsPacket\ b0\ =\ rhs.template\ load<RhsPacket,Unaligned>(j,0);}
\DoxyCodeLine{00492\ \ \ \ \ \ \ c0\ =\ pcj.pmadd(lhs.template\ load<LhsPacket,LhsAlignment>(i,j),b0,c0);}
\DoxyCodeLine{00493\ \ \ \ \ \}}
\DoxyCodeLine{00494\ \ \ \ \ ResScalar\ cc0\ =\ predux(c0);}
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{keywordflow}{if}\ (HasHalf)\ \{}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ fullColBlockEnd;\ j\ <\ halfColBlockEnd;\ j\ +=\ LhsPacketSizeHalf)}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ RhsPacketHalf\ b0\ =\ rhs.template\ load<RhsPacketHalf,Unaligned>(j,0);}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ c0\_h\ =\ pcj\_half.pmadd(lhs.template\ load<LhsPacketHalf,LhsAlignment>(i,j),b0,c0\_h);}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00501\ \ \ \ \ \ \ cc0\ +=\ predux(c0\_h);}
\DoxyCodeLine{00502\ \ \ \ \ \}}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keywordflow}{if}\ (HasQuarter)\ \{}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ halfColBlockEnd;\ j\ <\ quarterColBlockEnd;\ j\ +=\ LhsPacketSizeQuarter)}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ RhsPacketQuarter\ b0\ =\ rhs.template\ load<RhsPacketQuarter,Unaligned>(j,0);}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ c0\_q\ =\ pcj\_quarter.pmadd(lhs.template\ load<LhsPacketQuarter,LhsAlignment>(i,j),b0,c0\_q);}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00509\ \ \ \ \ \ \ cc0\ +=\ predux(c0\_q);}
\DoxyCodeLine{00510\ \ \ \ \ \}}
\DoxyCodeLine{00511\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ quarterColBlockEnd;\ j\ <\ cols;\ ++j)}
\DoxyCodeLine{00512\ \ \ \ \ \{}
\DoxyCodeLine{00513\ \ \ \ \ \ \ cc0\ +=\ cj.pmul(lhs(i,j),\ rhs(j,0));}
\DoxyCodeLine{00514\ \ \ \ \ \}}
\DoxyCodeLine{00515\ \ \ \ \ res[i*resIncr]\ +=\ alpha*cc0;}
\DoxyCodeLine{00516\ \ \ \}}
\DoxyCodeLine{00517\ \}}
\DoxyCodeLine{00518\ }
\DoxyCodeLine{00519\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_GENERAL\_MATRIX\_VECTOR\_H}}

\end{DoxyCode}
