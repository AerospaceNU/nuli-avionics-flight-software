\doxysection{Dot.\+h}
\hypertarget{Dot_8h_source}{}\label{Dot_8h_source}\index{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/include/Eigen/src/Core/Dot.h@{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/include/Eigen/src/Core/Dot.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2006-\/2008,\ 2010\ Benoit\ Jacob\ <jacob.benoit.1@gmail.com>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_DOT\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_DOT\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{//\ helper\ function\ for\ dot().\ The\ problem\ is\ that\ if\ we\ put\ that\ in\ the\ body\ of\ dot(),\ then\ upon\ calling\ dot}}
\DoxyCodeLine{00018\ \textcolor{comment}{//\ with\ mismatched\ types,\ the\ compiler\ emits\ errors\ about\ failing\ to\ instantiate\ cwiseProduct\ BEFORE}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ looking\ at\ the\ static\ assertions.\ Thus\ this\ is\ a\ trick\ to\ get\ better\ compile\ errors.}}
\DoxyCodeLine{00020\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U,}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ NeedToTranspose\ =\ T::IsVectorAtCompileTime\ \&\&\ U::IsVectorAtCompileTime\ \&\&}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((int(T::RowsAtCompileTime)\ ==\ 1\ \&\&\ int(U::ColsAtCompileTime)\ ==\ 1)\ ||}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (int(T::ColsAtCompileTime)\ ==\ 1\ \&\&\ int(U::RowsAtCompileTime)\ ==\ 1))>}
\DoxyCodeLine{00024\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structEigen_1_1internal_1_1dot__nocheck}{dot\_nocheck}}}
\DoxyCodeLine{00025\ \{}
\DoxyCodeLine{00026\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1internal_1_1scalar__conj__product__op}{scalar\_conj\_product\_op<typename\ traits<T>::Scalar}},\textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits<U>::Scalar}}>\ conj\_prod;}
\DoxyCodeLine{00027\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ conj\_prod::result\_type\ ResScalar;}
\DoxyCodeLine{00028\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00029\ \ \ EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{00030\ \ \ \textcolor{keyword}{static}\ ResScalar\ run(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<T>}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<U>}}\&\ b)}
\DoxyCodeLine{00031\ \ \ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordflow}{return}\ a.template\ binaryExpr<conj\_prod>(b).\mbox{\hyperlink{classEigen_1_1DenseBase_ac7b6e2d5e05f37b6cd3f213d28fdac24}{sum}}();}
\DoxyCodeLine{00033\ \ \ \}}
\DoxyCodeLine{00034\ \};}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1dot__nocheck}{dot\_nocheck}}<T,\ U,\ true>}
\DoxyCodeLine{00038\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1internal_1_1scalar__conj__product__op}{scalar\_conj\_product\_op<typename\ traits<T>::Scalar}},\textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits<U>::Scalar}}>\ conj\_prod;}
\DoxyCodeLine{00040\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ conj\_prod::result\_type\ ResScalar;}
\DoxyCodeLine{00041\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00042\ \ \ EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{static}\ ResScalar\ run(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<T>}}\&\ a,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<U>}}\&\ b)}
\DoxyCodeLine{00044\ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordflow}{return}\ a.\mbox{\hyperlink{classEigen_1_1DenseBase_acdada00d813939c0c9e90db5c01585c8}{transpose}}().template\ binaryExpr<conj\_prod>(b).sum();}
\DoxyCodeLine{00046\ \ \ \}}
\DoxyCodeLine{00047\ \};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00050\ \textcolor{comment}{}}
\DoxyCodeLine{00051\ \textcolor{comment}{/**\ \(\backslash\)fn\ MatrixBase::dot}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ \ *\ \(\backslash\)returns\ the\ dot\ product\ of\ *this\ with\ other.}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ \ *\ \(\backslash\)only\_for\_vectors}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ \ *\ \(\backslash\)note\ If\ the\ scalar\ type\ is\ complex\ numbers,\ then\ this\ function\ returns\ the\ hermitian}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ \ *\ (sesquilinear)\ dot\ product,\ conjugate-\/linear\ in\ the\ first\ variable\ and\ linear\ in\ the}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ *\ second\ variable.}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ squaredNorm(),\ norm()}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00062\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00063\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00064\ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00065\ EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{00066\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1ScalarBinaryOpTraits}{ScalarBinaryOpTraits<typename\ internal::traits<Derived>::Scalar}},\textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<OtherDerived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1ScalarBinaryOpTraits}{::ReturnType}}}
\DoxyCodeLine{00067\ \mbox{\hyperlink{classEigen_1_1MatrixBase_ab43847779a3727d3fac4f998bbb8c9d1}{MatrixBase<Derived>::dot}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00068\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00069\ \ \ EIGEN\_STATIC\_ASSERT\_VECTOR\_ONLY(Derived)}
\DoxyCodeLine{00070\ \ \ EIGEN\_STATIC\_ASSERT\_VECTOR\_ONLY(OtherDerived)}
\DoxyCodeLine{00071\ \ \ EIGEN\_STATIC\_ASSERT\_SAME\_VECTOR\_SIZE(Derived,OtherDerived)}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#if\ !(defined(EIGEN\_NO\_STATIC\_ASSERT)\ \&\&\ defined(EIGEN\_NO\_DEBUG))}}
\DoxyCodeLine{00073\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1internal_1_1scalar__conj__product__op}{internal::scalar\_conj\_product\_op<Scalar,typename\ OtherDerived::Scalar>}}\ func;}
\DoxyCodeLine{00074\ \ \ EIGEN\_CHECK\_BINARY\_COMPATIBILIY(func,\mbox{\hyperlink{classEigen_1_1Product}{Scalar}},\textcolor{keyword}{typename}\ OtherDerived::Scalar);}
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00076\ \ \ }
\DoxyCodeLine{00077\ \ \ eigen\_assert(size()\ ==\ other.size());}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{keywordflow}{return}\ internal::dot\_nocheck<Derived,OtherDerived>::run(*\textcolor{keyword}{this},\ other);}
\DoxyCodeLine{00080\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ implementation\ of\ L2\ norm\ and\ related\ functions\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00083\ \textcolor{comment}{}}
\DoxyCodeLine{00084\ \textcolor{comment}{/**\ \(\backslash\)returns,\ for\ vectors,\ the\ squared\ \(\backslash\)em\ l2\ norm\ of\ \(\backslash\)c\ *this,\ and\ for\ matrices\ the\ squared\ Frobenius\ norm.}}
\DoxyCodeLine{00085\ \textcolor{comment}{\ \ *\ In\ both\ cases,\ it\ consists\ in\ the\ sum\ of\ the\ square\ of\ all\ the\ matrix\ entries.}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ *\ For\ vectors,\ this\ is\ also\ equals\ to\ the\ dot\ product\ of\ \(\backslash\)c\ *this\ with\ itself.}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ dot(),\ norm(),\ lpNorm()}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00090\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00091\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<typename\ internal::traits<Derived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1NumTraits}{::Real}}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_a0afd613885f8d3a66978b1255b5887c1}{MatrixBase<Derived>::squaredNorm}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00092\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ numext::real((*this).cwiseAbs2().sum());}
\DoxyCodeLine{00094\ \}}
\DoxyCodeLine{00095\ \textcolor{comment}{}}
\DoxyCodeLine{00096\ \textcolor{comment}{/**\ \(\backslash\)returns,\ for\ vectors,\ the\ \(\backslash\)em\ l2\ norm\ of\ \(\backslash\)c\ *this,\ and\ for\ matrices\ the\ Frobenius\ norm.}}
\DoxyCodeLine{00097\ \textcolor{comment}{\ \ *\ In\ both\ cases,\ it\ consists\ in\ the\ square\ root\ of\ the\ sum\ of\ the\ square\ of\ all\ the\ matrix\ entries.}}
\DoxyCodeLine{00098\ \textcolor{comment}{\ \ *\ For\ vectors,\ this\ is\ also\ equals\ to\ the\ square\ root\ of\ the\ dot\ product\ of\ \(\backslash\)c\ *this\ with\ itself.}}
\DoxyCodeLine{00099\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00100\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ lpNorm(),\ dot(),\ squaredNorm()}}
\DoxyCodeLine{00101\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00102\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00103\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<typename\ internal::traits<Derived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1NumTraits}{::Real}}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_ace03acc2885d22588472ae898a689093}{MatrixBase<Derived>::norm}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00104\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{return}\ numext::sqrt(\mbox{\hyperlink{classEigen_1_1MatrixBase_a0afd613885f8d3a66978b1255b5887c1}{squaredNorm}}());}
\DoxyCodeLine{00106\ \}}
\DoxyCodeLine{00107\ \textcolor{comment}{}}
\DoxyCodeLine{00108\ \textcolor{comment}{/**\ \(\backslash\)returns\ an\ expression\ of\ the\ quotient\ of\ \(\backslash\)c\ *this\ by\ its\ own\ norm.}}
\DoxyCodeLine{00109\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00110\ \textcolor{comment}{\ \ *\ \(\backslash\)warning\ If\ the\ input\ vector\ is\ too\ small\ (i.e.,\ this-\/>norm()==0),}}
\DoxyCodeLine{00111\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ \ \ \ then\ this\ function\ returns\ a\ copy\ of\ the\ input.}}
\DoxyCodeLine{00112\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00113\ \textcolor{comment}{\ \ *\ \(\backslash\)only\_for\_vectors}}
\DoxyCodeLine{00114\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00115\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ norm(),\ normalize()}}
\DoxyCodeLine{00116\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00117\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00118\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ MatrixBase<Derived>::PlainObject}
\DoxyCodeLine{00119\ \mbox{\hyperlink{classEigen_1_1MatrixBase_ab0b6f60e35452acd779e340856fde121}{MatrixBase<Derived>::normalized}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00120\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00121\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ internal::nested\_eval<Derived,2>::type\ \_Nested;}
\DoxyCodeLine{00122\ \ \ \_Nested\ n(derived());}
\DoxyCodeLine{00123\ \ \ RealScalar\ z\ =\ n.squaredNorm();}
\DoxyCodeLine{00124\ \ \ \textcolor{comment}{//\ NOTE:\ after\ extensive\ benchmarking,\ this\ conditional\ does\ not\ impact\ performance,\ at\ least\ on\ recent\ x86\ CPU}}
\DoxyCodeLine{00125\ \ \ \textcolor{keywordflow}{if}(z>RealScalar(0))}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{return}\ n\ /\ numext::sqrt(z);}
\DoxyCodeLine{00127\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordflow}{return}\ n;}
\DoxyCodeLine{00129\ \}}
\DoxyCodeLine{00130\ \textcolor{comment}{}}
\DoxyCodeLine{00131\ \textcolor{comment}{/**\ Normalizes\ the\ vector,\ i.e.\ divides\ it\ by\ its\ own\ norm.}}
\DoxyCodeLine{00132\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00133\ \textcolor{comment}{\ \ *\ \(\backslash\)only\_for\_vectors}}
\DoxyCodeLine{00134\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00135\ \textcolor{comment}{\ \ *\ \(\backslash\)warning\ If\ the\ input\ vector\ is\ too\ small\ (i.e.,\ this-\/>norm()==0),\ then\ \(\backslash\)c\ *this\ is\ left\ unchanged.}}
\DoxyCodeLine{00136\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00137\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ norm(),\ normalized()}}
\DoxyCodeLine{00138\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00139\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00140\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_a82aab8b1e4a00beea9d8be19eb2f9f6d}{MatrixBase<Derived>::normalize}}()}
\DoxyCodeLine{00141\ \{}
\DoxyCodeLine{00142\ \ \ RealScalar\ z\ =\ \mbox{\hyperlink{classEigen_1_1MatrixBase_a0afd613885f8d3a66978b1255b5887c1}{squaredNorm}}();}
\DoxyCodeLine{00143\ \ \ \textcolor{comment}{//\ NOTE:\ after\ extensive\ benchmarking,\ this\ conditional\ does\ not\ impact\ performance,\ at\ least\ on\ recent\ x86\ CPU}}
\DoxyCodeLine{00144\ \ \ \textcolor{keywordflow}{if}(z>RealScalar(0))}
\DoxyCodeLine{00145\ \ \ \ \ derived()\ /=\ numext::sqrt(z);}
\DoxyCodeLine{00146\ \}}
\DoxyCodeLine{00147\ \textcolor{comment}{}}
\DoxyCodeLine{00148\ \textcolor{comment}{/**\ \(\backslash\)returns\ an\ expression\ of\ the\ quotient\ of\ \(\backslash\)c\ *this\ by\ its\ own\ norm\ while\ avoiding\ underflow\ and\ overflow.}}
\DoxyCodeLine{00149\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00150\ \textcolor{comment}{\ \ *\ \(\backslash\)only\_for\_vectors}}
\DoxyCodeLine{00151\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00152\ \textcolor{comment}{\ \ *\ This\ method\ is\ analogue\ to\ the\ normalized()\ method,\ but\ it\ reduces\ the\ risk\ of}}
\DoxyCodeLine{00153\ \textcolor{comment}{\ \ *\ underflow\ and\ overflow\ when\ computing\ the\ norm.}}
\DoxyCodeLine{00154\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00155\ \textcolor{comment}{\ \ *\ \(\backslash\)warning\ If\ the\ input\ vector\ is\ too\ small\ (i.e.,\ this-\/>norm()==0),}}
\DoxyCodeLine{00156\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ \ \ \ then\ this\ function\ returns\ a\ copy\ of\ the\ input.}}
\DoxyCodeLine{00157\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00158\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ stableNorm(),\ stableNormalize(),\ normalized()}}
\DoxyCodeLine{00159\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00160\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00161\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ MatrixBase<Derived>::PlainObject}
\DoxyCodeLine{00162\ \mbox{\hyperlink{classEigen_1_1MatrixBase_ab2e41fc6c7ba747ed91ba29a81272c67}{MatrixBase<Derived>::stableNormalized}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00163\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00164\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ internal::nested\_eval<Derived,3>::type\ \_Nested;}
\DoxyCodeLine{00165\ \ \ \_Nested\ n(derived());}
\DoxyCodeLine{00166\ \ \ RealScalar\ w\ =\ n.cwiseAbs().maxCoeff();}
\DoxyCodeLine{00167\ \ \ RealScalar\ z\ =\ (n/w).\mbox{\hyperlink{classEigen_1_1MatrixBase_a0afd613885f8d3a66978b1255b5887c1}{squaredNorm}}();}
\DoxyCodeLine{00168\ \ \ \textcolor{keywordflow}{if}(z>RealScalar(0))}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{keywordflow}{return}\ n\ /\ (numext::sqrt(z)*w);}
\DoxyCodeLine{00170\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordflow}{return}\ n;}
\DoxyCodeLine{00172\ \}}
\DoxyCodeLine{00173\ \textcolor{comment}{}}
\DoxyCodeLine{00174\ \textcolor{comment}{/**\ Normalizes\ the\ vector\ while\ avoid\ underflow\ and\ overflow}}
\DoxyCodeLine{00175\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00176\ \textcolor{comment}{\ \ *\ \(\backslash\)only\_for\_vectors}}
\DoxyCodeLine{00177\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00178\ \textcolor{comment}{\ \ *\ This\ method\ is\ analogue\ to\ the\ normalize()\ method,\ but\ it\ reduces\ the\ risk\ of}}
\DoxyCodeLine{00179\ \textcolor{comment}{\ \ *\ underflow\ and\ overflow\ when\ computing\ the\ norm.}}
\DoxyCodeLine{00180\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00181\ \textcolor{comment}{\ \ *\ \(\backslash\)warning\ If\ the\ input\ vector\ is\ too\ small\ (i.e.,\ this-\/>norm()==0),\ then\ \(\backslash\)c\ *this\ is\ left\ unchanged.}}
\DoxyCodeLine{00182\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00183\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ stableNorm(),\ stableNormalized(),\ normalize()}}
\DoxyCodeLine{00184\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00185\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00186\ EIGEN\_DEVICE\_FUNC\ EIGEN\_STRONG\_INLINE\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_a4c5e4f21e24a98f0fbb0a0ea18f81add}{MatrixBase<Derived>::stableNormalize}}()}
\DoxyCodeLine{00187\ \{}
\DoxyCodeLine{00188\ \ \ RealScalar\ w\ =\ \mbox{\hyperlink{classEigen_1_1MatrixBase_a8f2dbd5d9573c79c5dd356ddb29a0ee9}{cwiseAbs}}().maxCoeff();}
\DoxyCodeLine{00189\ \ \ RealScalar\ z\ =\ (derived()/w).\mbox{\hyperlink{classEigen_1_1MatrixBase_a0afd613885f8d3a66978b1255b5887c1}{squaredNorm}}();}
\DoxyCodeLine{00190\ \ \ \textcolor{keywordflow}{if}(z>RealScalar(0))}
\DoxyCodeLine{00191\ \ \ \ \ derived()\ /=\ numext::sqrt(z)*w;}
\DoxyCodeLine{00192\ \}}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ implementation\ of\ other\ norms\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ p>}
\DoxyCodeLine{00199\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1lpNorm__selector}{lpNorm\_selector}}}
\DoxyCodeLine{00200\ \{}
\DoxyCodeLine{00201\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<typename\ traits<Derived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1NumTraits}{::Real}}\ RealScalar;}
\DoxyCodeLine{00202\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00203\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ RealScalar\ run(\textcolor{keyword}{const}\ MatrixBase<Derived>\&\ m)}
\DoxyCodeLine{00204\ \ \ \{}
\DoxyCodeLine{00205\ \ \ \ \ EIGEN\_USING\_STD(\mbox{\hyperlink{classEigen_1_1ArrayBase_acb769e1ab1d809abb77c7ab98021ad81}{pow}})}
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1ArrayBase_acb769e1ab1d809abb77c7ab98021ad81}{pow}}(m.\mbox{\hyperlink{classEigen_1_1MatrixBase_a8f2dbd5d9573c79c5dd356ddb29a0ee9}{cwiseAbs}}().array().pow(p).sum(),\ RealScalar(1)/p);}
\DoxyCodeLine{00207\ \ \ \}}
\DoxyCodeLine{00208\ \};}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00211\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1lpNorm__selector}{lpNorm\_selector}}<Derived,\ 1>}
\DoxyCodeLine{00212\ \{}
\DoxyCodeLine{00213\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00214\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<typename\ traits<Derived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1NumTraits}{::Real}}\ run(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived>}}\&\ m)}
\DoxyCodeLine{00215\ \ \ \{}
\DoxyCodeLine{00216\ \ \ \ \ \textcolor{keywordflow}{return}\ m.\mbox{\hyperlink{classEigen_1_1MatrixBase_a8f2dbd5d9573c79c5dd356ddb29a0ee9}{cwiseAbs}}().sum();}
\DoxyCodeLine{00217\ \ \ \}}
\DoxyCodeLine{00218\ \};}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00221\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1lpNorm__selector}{lpNorm\_selector}}<Derived,\ 2>}
\DoxyCodeLine{00222\ \{}
\DoxyCodeLine{00223\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00224\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<typename\ traits<Derived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1NumTraits}{::Real}}\ run(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived>}}\&\ m)}
\DoxyCodeLine{00225\ \ \ \{}
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keywordflow}{return}\ m.\mbox{\hyperlink{classEigen_1_1MatrixBase_ace03acc2885d22588472ae898a689093}{norm}}();}
\DoxyCodeLine{00227\ \ \ \}}
\DoxyCodeLine{00228\ \};}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00231\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1lpNorm__selector}{lpNorm\_selector}}<Derived,\ \mbox{\hyperlink{namespaceEigen_a7951593b031e13d90223c83d022ce99e}{Infinity}}>}
\DoxyCodeLine{00232\ \{}
\DoxyCodeLine{00233\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<typename\ traits<Derived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1NumTraits}{::Real}}\ RealScalar;}
\DoxyCodeLine{00234\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00235\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ RealScalar\ run(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived>}}\&\ m)}
\DoxyCodeLine{00236\ \ \ \{}
\DoxyCodeLine{00237\ \ \ \ \ \textcolor{keywordflow}{if}(Derived::SizeAtCompileTime==0\ ||\ (Derived::SizeAtCompileTime==\mbox{\hyperlink{namespaceEigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}}\ \&\&\ m.size()==0))}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ RealScalar(0);}
\DoxyCodeLine{00239\ \ \ \ \ \textcolor{keywordflow}{return}\ m.\mbox{\hyperlink{classEigen_1_1MatrixBase_a8f2dbd5d9573c79c5dd356ddb29a0ee9}{cwiseAbs}}().maxCoeff();}
\DoxyCodeLine{00240\ \ \ \}}
\DoxyCodeLine{00241\ \};}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00244\ \textcolor{comment}{}}
\DoxyCodeLine{00245\ \textcolor{comment}{/**\ \(\backslash\)returns\ the\ \(\backslash\)b\ coefficient-\/wise\ \(\backslash\)f\$\ \(\backslash\)ell\string^p\ \(\backslash\)f\$\ norm\ of\ \(\backslash\)c\ *this,\ that\ is,\ returns\ the\ p-\/th\ root\ of\ the\ sum\ of\ the\ p-\/th\ powers\ of\ the\ absolute\ values}}
\DoxyCodeLine{00246\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ \ \ \ of\ the\ coefficients\ of\ \(\backslash\)c\ *this.\ If\ \(\backslash\)a\ p\ is\ the\ special\ value\ \(\backslash\)a\ Eigen::Infinity,\ this\ function\ returns\ the\ \(\backslash\)f\$\ \(\backslash\)ell\string^\(\backslash\)infty\ \(\backslash\)f\$}}
\DoxyCodeLine{00247\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ \ \ \ norm,\ that\ is\ the\ maximum\ of\ the\ absolute\ values\ of\ the\ coefficients\ of\ \(\backslash\)c\ *this.}}
\DoxyCodeLine{00248\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00249\ \textcolor{comment}{\ \ *\ In\ all\ cases,\ if\ \(\backslash\)c\ *this\ is\ empty,\ then\ the\ value\ 0\ is\ returned.}}
\DoxyCodeLine{00250\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00251\ \textcolor{comment}{\ \ *\ \(\backslash\)note\ For\ matrices,\ this\ function\ does\ not\ compute\ the\ <a\ href="{}https://en.wikipedia.org/wiki/Operator\_norm"{}>operator-\/norm</a>.\ That\ is,\ if\ \(\backslash\)c\ *this\ is\ a\ matrix,\ then\ its\ coefficients\ are\ interpreted\ as\ a\ 1D\ vector.\ Nonetheless,\ you\ can\ easily\ compute\ the\ 1-\/norm\ and\ \(\backslash\)f\$\(\backslash\)infty\(\backslash\)f\$-\/norm\ matrix\ operator\ norms\ using\ \(\backslash\)link\ TutorialReductionsVisitorsBroadcastingReductionsNorm\ partial\ reductions\ \(\backslash\)endlink.}}
\DoxyCodeLine{00252\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00253\ \textcolor{comment}{\ \ *\ \(\backslash\)sa\ norm()}}
\DoxyCodeLine{00254\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00255\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00256\ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ p>}
\DoxyCodeLine{00257\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00258\ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<typename\ internal::traits<Derived>::Scalar}}>\mbox{\hyperlink{structEigen_1_1NumTraits}{::Real}}}
\DoxyCodeLine{00259\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00260\ EIGEN\_DEVICE\_FUNC\ MatrixBase<Derived>::RealScalar}
\DoxyCodeLine{00261\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00262\ \mbox{\hyperlink{classEigen_1_1MatrixBase_aa37effc4e7b8d456a092f980a74b95d2}{MatrixBase<Derived>::lpNorm}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00263\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00264\ \ \ \textcolor{keywordflow}{return}\ internal::lpNorm\_selector<Derived,\ p>::run(*\textcolor{keyword}{this});}
\DoxyCodeLine{00265\ \}}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ implementation\ of\ isOrthogonal\ /\ isUnitary\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00268\ \textcolor{comment}{}}
\DoxyCodeLine{00269\ \textcolor{comment}{/**\ \(\backslash\)returns\ true\ if\ *this\ is\ approximately\ orthogonal\ to\ \(\backslash\)a\ other,}}
\DoxyCodeLine{00270\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ \ \ \ within\ the\ precision\ given\ by\ \(\backslash\)a\ prec.}}
\DoxyCodeLine{00271\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00272\ \textcolor{comment}{\ \ *\ Example:\ \(\backslash\)include\ MatrixBase\_isOrthogonal.cpp}}
\DoxyCodeLine{00273\ \textcolor{comment}{\ \ *\ Output:\ \(\backslash\)verbinclude\ MatrixBase\_isOrthogonal.out}}
\DoxyCodeLine{00274\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00275\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00276\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00277\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_aefdc8e4e4c156fdd79a21479e75dcd8a}{MatrixBase<Derived>::isOrthogonal}}}
\DoxyCodeLine{00278\ (\textcolor{keyword}{const}\ MatrixBase<OtherDerived>\&\ other,\ \textcolor{keyword}{const}\ RealScalar\&\ prec)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00279\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00280\ \ \ \textcolor{keyword}{typename}\ internal::nested\_eval<Derived,2>::type\ nested(derived());}
\DoxyCodeLine{00281\ \ \ \textcolor{keyword}{typename}\ internal::nested\_eval<OtherDerived,2>::type\ otherNested(other.derived());}
\DoxyCodeLine{00282\ \ \ \textcolor{keywordflow}{return}\ numext::abs2(nested.dot(otherNested))\ <=\ prec\ *\ prec\ *\ nested.squaredNorm()\ *\ otherNested.squaredNorm();}
\DoxyCodeLine{00283\ \}}
\DoxyCodeLine{00284\ \textcolor{comment}{}}
\DoxyCodeLine{00285\ \textcolor{comment}{/**\ \(\backslash\)returns\ true\ if\ *this\ is\ approximately\ an\ unitary\ matrix,}}
\DoxyCodeLine{00286\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ \ \ \ within\ the\ precision\ given\ by\ \(\backslash\)a\ prec.\ In\ the\ case\ where\ the\ \(\backslash\)a\ Scalar}}
\DoxyCodeLine{00287\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ \ \ \ type\ is\ real\ numbers,\ a\ unitary\ matrix\ is\ an\ orthogonal\ matrix,\ whence\ the\ name.}}
\DoxyCodeLine{00288\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00289\ \textcolor{comment}{\ \ *\ \(\backslash\)note\ This\ can\ be\ used\ to\ check\ whether\ a\ family\ of\ vectors\ forms\ an\ orthonormal\ basis.}}
\DoxyCodeLine{00290\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ Indeed,\ \(\backslash\)c\ m.isUnitary()\ returns\ true\ if\ and\ only\ if\ the\ columns\ (equivalently,\ the\ rows)\ of\ m\ form\ an}}
\DoxyCodeLine{00291\ \textcolor{comment}{\ \ *\ \ \ \ \ \ \ orthonormal\ basis.}}
\DoxyCodeLine{00292\ \textcolor{comment}{\ \ *}}
\DoxyCodeLine{00293\ \textcolor{comment}{\ \ *\ Example:\ \(\backslash\)include\ MatrixBase\_isUnitary.cpp}}
\DoxyCodeLine{00294\ \textcolor{comment}{\ \ *\ Output:\ \(\backslash\)verbinclude\ MatrixBase\_isUnitary.out}}
\DoxyCodeLine{00295\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00296\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00297\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_a8a7ee34ce202cac3eeea9cf20c9e4833}{MatrixBase<Derived>::isUnitary}}(\textcolor{keyword}{const}\ RealScalar\&\ prec)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00298\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00299\ \ \ \textcolor{keyword}{typename}\ internal::nested\_eval<Derived,1>::type\ self(derived());}
\DoxyCodeLine{00300\ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ i\ =\ 0;\ i\ <\ cols();\ ++i)}
\DoxyCodeLine{00301\ \ \ \{}
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{keywordflow}{if}(!internal::isApprox(self.col(i).squaredNorm(),\ \textcolor{keyword}{static\_cast<}RealScalar\textcolor{keyword}{>}(1),\ prec))}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j\ =\ 0;\ j\ <\ i;\ ++j)}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!internal::isMuchSmallerThan(self.col(i).dot(self.col(j)),\ \textcolor{keyword}{static\_cast<}Scalar\textcolor{keyword}{>}(1),\ prec))}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00307\ \ \ \}}
\DoxyCodeLine{00308\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00309\ \}}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_DOT\_H}}

\end{DoxyCode}
