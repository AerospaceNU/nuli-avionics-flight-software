\doxysection{Base\+Flag.\+h}
\hypertarget{BaseFlag_8h_source}{}\label{BaseFlag_8h_source}\index{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/src/core/cli/BaseFlag.h@{nuli-\/avionics-\/flight-\/software/platformio\_nuli\_avionics\_flight\_software/src/core/cli/BaseFlag.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ DESKTOP\_BASEFLAG\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ DESKTOP\_BASEFLAG\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}ReturnCodes.h"{}}}
\DoxyCodeLine{00007\ \textcolor{comment}{}}
\DoxyCodeLine{00008\ \textcolor{comment}{/**}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ *\ @TODO:\ Change\ up\ parse\ implementation.\ Current\ implementation\ by\ passing\ in}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ argc,\ argv,\ and\ argvPos\ are\ very\ hack-\/ey.}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ @TODO:\ If\ a\ flag\ is\ not\ set,\ don't\ allow\ operations\ such\ as\ getValue.\ This}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ is\ a\ little\ finicky\ without\ throwing\ an\ exception.\ I\ guess\ we\ can}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ pass\ in\ the\ thing\ for\ where\ the\ returned\ value\ can\ go\ and\ then}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ return\ an\ integer.\ OR,\ we\ can\ just\ have\ the\ user\ check\ if\ the}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ flag's\ value\ has\ been\ set\ each\ time\ before\ calling.\ Just\ depends\ on}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ what\ type\ of\ "{}overhead"{}\ we\ want.}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{comment}{}}
\DoxyCodeLine{00021\ \textcolor{comment}{/**}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ @class\ BaseFlag}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ @brief\ Abstract\ base\ class\ for\ command-\/line\ flags.}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ *\ @details\ This\ class\ defines\ a\ common\ interface\ for\ different\ types\ of}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ *\ command-\/line\ flags,\ such\ as\ simple\ boolean\ flags\ and\ argument-\/based\ flags.}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ *\ Not\ intended\ for\ direct\ instantiation.}}
\DoxyCodeLine{00027\ \textcolor{comment}{\ *\ \(\backslash\)derived}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ *\ -\/\ <code>SimpleFlag</code>:\ Represents\ flags\ that\ are\ either\ set\ or\ unset\ (e.g.,\ \`{}-\/help`).\(\backslash\)n}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ *\ -\/\ <code>ArgumentFlag</code>:\ Represents\ flags\ that\ take\ an\ associated\ value\ (e.g.,\ \`{}-\/-\/threshold\ 5.0`).}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00031\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBaseFlag_a9e0588d66c10470b41c9161b4cac6c54}{BaseFlag}}\ \{}
\DoxyCodeLine{00032\ \textcolor{keyword}{public}:\textcolor{comment}{}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Retrieves\ the\ flag's\ name}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ \ \ \ \ *\ @return\ the\ flag's\ name}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classBaseFlag_a953cf58b9fce12cd43cabeaaa4b32d6e}{name}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00038\ \textcolor{comment}{}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Retrieves\ the\ help\ text}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ \ \ \ \ *\ @return\ the\ help\ text,\ a\ \`{}const\ char*\`{}}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classBaseFlag_a5bff3f59a5e10173e0972a89a02ead67}{help}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00044\ \textcolor{comment}{}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ \ \ \ \ /**}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ \ \ \ \ \ *\ @brief\ Parses\ a\ single\ flag\ of\ the\ input.}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ \ \ \ \ \ *\ @param\ arg\ argument\ to\ parse\ into\ flag,\ is\ nullable}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ \ \ \ \ \ *\ @return\ 0\ if\ success,\ negative\ for\ failure}}
\DoxyCodeLine{00049\ \textcolor{comment}{\ \ \ \ \ \ */}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{virtual}\ CLIReturnCode\_e\ \mbox{\hyperlink{classBaseFlag_ab0fe900c60527b214637c89bfc0db8ff}{parse}}(\textcolor{keywordtype}{char}*\ arg)\ =\ 0;}
\DoxyCodeLine{00051\ \textcolor{comment}{}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ \ \ \ \ *\ @param\ flag}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBaseFlag_ad9fdb88457d6e6df8d8eeb58b843c1c4}{setDependency}}(\mbox{\hyperlink{classBaseFlag_a9e0588d66c10470b41c9161b4cac6c54}{BaseFlag}}\ *flag);}
\DoxyCodeLine{00057\ \textcolor{comment}{}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Dispatches\ to\ a\ pre-\/set\ m\_callback\ function.}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBaseFlag_aeeae5de67e9cc39ee0b455dde007897a}{run}}(uint8\_t\ groupUid)\ =\ 0;}
\DoxyCodeLine{00062\ \textcolor{comment}{}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Tells\ the\ caller\ if\ this\ flag\ has\ been\ set.}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ \ \ \ *\ @return\ true\ if\ set}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classBaseFlag_a7f78cf0108751608a397b5f2e2bf6ec0}{isSet}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00068\ \textcolor{comment}{}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Tells\ the\ caller\ if\ this\ flag\ is\ required.}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ \ \ \ \ *\ @return\ true\ if\ required}}
\DoxyCodeLine{00072\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classBaseFlag_a63d810e5d437bceaa4f7c048149dcc54}{isRequired}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00074\ \textcolor{comment}{}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Resets\ all\ dynamic\ parameters\ of\ flag}}
\DoxyCodeLine{00077\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBaseFlag_a2f4138383aea63878e750422156e0bea}{reset}}()\ =\ 0;}
\DoxyCodeLine{00079\ \textcolor{comment}{}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ ensures\ a\ flags\ parameters\ are\ correctly\ set}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ \ \ \ \ *\ @return\ true\ if\ successful}}
\DoxyCodeLine{00083\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classBaseFlag_a0e6f89a30132e9321e5740cc13f88f7b}{verify}}()\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00085\ \textcolor{comment}{}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00087\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Retrieves\ the\ value\ of\ the\ flag.}}
\DoxyCodeLine{00088\ \textcolor{comment}{\ \ \ \ \ *\ @details\ When\ retrieving\ the\ value\ of\ a\ flag,\ a\ user\ must\ check\ if\ the}}
\DoxyCodeLine{00089\ \textcolor{comment}{\ \ \ \ \ *\ flag's\ value\ is\ set.}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ \ \ \ \ *\ @tparam\ T\ type\ of\ the\ value}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ \ \ \ \ *\ @return\ A\ flag's\ value}}
\DoxyCodeLine{00092\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00094\ \ \ \ \ T\ \mbox{\hyperlink{classBaseFlag_a31f1ba364a08c9666a383c7bed5effd7}{getValue}}();}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{keyword}{protected}:\textcolor{comment}{}}
\DoxyCodeLine{00097\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00098\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Constructor}}
\DoxyCodeLine{00099\ \textcolor{comment}{\ \ \ \ \ *\ @param\ name\ Name\ of\ a\ flag}}
\DoxyCodeLine{00100\ \textcolor{comment}{\ \ \ \ \ *\ @param\ helpText\ A\ flag's\ help\ text}}
\DoxyCodeLine{00101\ \textcolor{comment}{\ \ \ \ \ *\ @param\ required\ If\ a\ flag\ is\ required}}
\DoxyCodeLine{00102\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classBaseFlag_a9e0588d66c10470b41c9161b4cac6c54}{BaseFlag}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classBaseFlag_a953cf58b9fce12cd43cabeaaa4b32d6e}{name}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ helpText,\ \textcolor{keywordtype}{bool}\ required,\ uint8\_t\ uid,\ \textcolor{keywordtype}{void}\ (*callback)(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classBaseFlag_a953cf58b9fce12cd43cabeaaa4b32d6e}{name}},\ uint8\_t*,\ uint32\_t\ length,\ uint8\_t,\ uint8\_t,\ \mbox{\hyperlink{classBaseFlag_a9e0588d66c10470b41c9161b4cac6c54}{BaseFlag}}*));}
\DoxyCodeLine{00104\ \textcolor{comment}{}}
\DoxyCodeLine{00105\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00106\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Parses\ an\ input\ into\ the\ expected\ type}}
\DoxyCodeLine{00107\ \textcolor{comment}{\ \ \ \ \ *\ @tparam\ T\ type\ of\ the\ flag's\ argument}}
\DoxyCodeLine{00108\ \textcolor{comment}{\ \ \ \ \ *\ @param\ value\ a\ const\ char*\ representing\ an\ input}}
\DoxyCodeLine{00109\ \textcolor{comment}{\ \ \ \ \ *\ @param\ result\ input\ translated\ into\ type\ T}}
\DoxyCodeLine{00110\ \textcolor{comment}{\ \ \ \ \ *\ @return\ 0\ if\ success,\ <0\ if\ failure}}
\DoxyCodeLine{00111\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{inline}\ CLIReturnCode\_e\ \mbox{\hyperlink{classBaseFlag_a6abc41addb93d8eadc5a2b7be981e3f9}{parseArgument}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ value,\ T\ \&result);}
\DoxyCodeLine{00114\ \textcolor{comment}{}}
\DoxyCodeLine{00115\ \textcolor{comment}{\ \ \ \ /**}}
\DoxyCodeLine{00116\ \textcolor{comment}{\ \ \ \ \ *\ @brief\ Retrieves\ the\ flag\ of\ a\ flag\ from\ a\ derived\ class}}
\DoxyCodeLine{00117\ \textcolor{comment}{\ \ \ \ \ *\ @param\ outValue\ Output}}
\DoxyCodeLine{00118\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classBaseFlag_aaca151687e86f1bc9712297ec4912b6a}{getValueRaw}}(\textcolor{keywordtype}{void}*\ outValue)\ \textcolor{keyword}{const}\ =\ 0;}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classBaseFlag_a7cf3ec3a6f778cdf769c6e82112359d3}{m\_name}};\ \ \ \ \ \ \ \ \ \textcolor{comment}{///<\ Name,\ or\ calling\ sign,\ of\ the\ flag}}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classBaseFlag_a85e0c94da56902a9dae9edc3d817dbbc}{m\_helpText}};\ \ \ \ \ \textcolor{comment}{///<\ A\ flag's\ help\ text}}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classBaseFlag_ae4c01b7ee1761e154085a07e6fda9390}{m\_required}};\ \ \ \ \ \ \textcolor{comment}{///<\ If\ a\ flag\ is\ required}}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t\ \mbox{\hyperlink{classBaseFlag_ab99693df0f63ada5a977f8433ec731a3}{m\_identifier}};\ \textcolor{comment}{///<\ command\ identifier}}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classBaseFlag_a0a7410b273ea0f785bacd3b30f9aba1d}{m\_set}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{///<\ If\ a\ flag\ is\ in-\/use}}
\DoxyCodeLine{00126\ \ \ \ \ void\ (*\mbox{\hyperlink{classBaseFlag_a945eca4a73b383f37258f1ac823e3434}{m\_callback}})(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classBaseFlag_a953cf58b9fce12cd43cabeaaa4b32d6e}{name}},\ uint8\_t*\ data,\ uint32\_t\ length,\ uint8\_t\ group\_uid,\ uint8\_t\ flag\_uid,\ \mbox{\hyperlink{classBaseFlag_a9e0588d66c10470b41c9161b4cac6c54}{BaseFlag}}*\ dependency);\ \ \ \textcolor{comment}{///<\ Callback\ function.\ Takes\ in\ if\ a\ flag\ is\ set\ and\ its\ group's\ uid}}
\DoxyCodeLine{00127\ \ \ \ \ \mbox{\hyperlink{classBaseFlag_a9e0588d66c10470b41c9161b4cac6c54}{BaseFlag}}*\ m\_dependency\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \textcolor{comment}{///<}}
\DoxyCodeLine{00128\ \};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \textcolor{preprocessor}{\#include\ "{}BaseFlag.tpp"{}}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//DESKTOP\_BASEFLAG\_H}}

\end{DoxyCode}
